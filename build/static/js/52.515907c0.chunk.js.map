{"version":3,"sources":["pages/dashboard/RestoreUserDeleteReq.jsx"],"names":["require","descendingComparator","a","b","orderBy","StyledTableRow","styled","TableRow","theme","backgroundColor","background","border","RestoreUserDeleteReq","useState","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","setOrderBy","filterName","setFilterName","tableData","setTableData","axiosPrivate","useAxiosPrivate","loding","setLoding","enqueueSnackbar","useSnackbar","permissionsData","useStore","state","permissions","useTheme","fullScreen","useMediaQuery","breakpoints","down","navigate","useNavigate","open","setOpen","deleteData","setDeleteData","CsvData","setCsvData","disableBtn","setDisableBtn","restoreReq","useMutation","post","USER_API_URL","removeArchiveUser","id","_id","type","status","response","onSuccess","data","message","variant","anchorOrigin","vertical","horizontal","autoHideDuration","onError","error","errors","errorMessage","Object","keys","map","key","onSettled","handleClose","refetch","mutateAsync","useEffect","arr","item","createdAt","Date","toLocaleString","obj","businessId","businessName","userName","businessEmail","userEmail","mobile","push","csvReport","headers","label","filename","getArchivedUser","get","getDeletedReqList","params","search","limit","useQuery","keepPreviousData","isLoading","userArchivedList","metadata","length","hasMoreData","setTimeout","filteredUsers","array","comparator","stabilizedThis","el","index","sort","applySortFilter","getComparator","className","fullWidth","sx","flex","placeholder","onChange","e","target","value","trim","direction","spacing","title","placement","style","fontSize","color","users","substring","onClose","autoFocus","onClick","disabled","updateRequest","headLabel","alignRight","rowCount","onRequestSort","event","property","row","i","component","scope","is_business","align","moment","format","PATH_DASHBOARD","general","restoreBusinessView","restoreUserView","colSpan","py","rowsPerPageOptions","count","total","onPageChange","newPage","onRowsPerPageChange","parseInt"],"mappings":"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","file":"static/js/52.515907c0.chunk.js","sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { IconButton, InputBase, Paper, Card, Table, TableBody, TableCell, TableContainer, TablePagination, TableRow, Chip } from \"@material-ui/core\";\r\nimport RefreshOutlinedIcon from '@mui/icons-material/RefreshOutlined';\r\nimport UserListHead from \"src/components/user/UserListHead\";\r\nimport { Stack, useMediaQuery } from \"@mui/material\";\r\nimport Button from '@mui/material/Button';\r\nimport SearchIcon from \"src/svgComponents/SearchIcon\";\r\nimport { styled } from '@mui/material/styles';\r\nimport LoadingScreen from 'src/components/LoadingScreen'\r\nimport moment from 'moment'\r\nimport AppTooltip from \"src/components/common/AppTooltip\";\r\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from '@mui/material';\r\nimport useAxiosPrivate from \"src/hooks/useAxiosPrivate\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useStore from \"src/contexts/AuthProvider\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { USER_API_URL } from \"src/api/axios\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { PATH_DASHBOARD } from \"src/routes/paths\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport FileUploadOutlinedIcon from '@mui/icons-material/FileUploadOutlined';\r\n\r\nconst _ = require('lodash');\r\n\r\n\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n        ? (a, b) => descendingComparator(a, b, orderBy)\r\n        : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\nfunction applySortFilter(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n        const order = comparator(a[0], b[0]);\r\n        if (order !== 0) return order;\r\n        return a[1] - b[1];\r\n    });\r\n\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n    '&:nth-of-type(odd)': {\r\n        backgroundColor: '#ffffff',\r\n    },\r\n    '&:nth-of-type(even)': {\r\n        background: \"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7\",\r\n    },\r\n    // hide last border\r\n    '& td, & th': {\r\n        border: 0,\r\n    },\r\n}));\r\n// getArchivedUserList\r\nconst RestoreUserDeleteReq = () => {\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const [order, setOrder] = useState('asc');\r\n    const [orderBy, setOrderBy] = useState('name');\r\n    const [filterName, setFilterName] = useState('');\r\n    const [tableData, setTableData] = useState([]);\r\n    const axiosPrivate = useAxiosPrivate();\r\n    const [loding, setLoding] = useState(true);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const permissionsData = useStore(state => state.permissions);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('md'));\r\n    const navigate = useNavigate();\r\n    const [open, setOpen] = useState(false);\r\n    const [deleteData, setDeleteData] = useState(false);\r\n    const [CsvData, setCsvData] = useState([]);\r\n    const [disableBtn, setDisableBtn] = useState(false)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //restore-deleted request\r\n    async function updateRequest() {\r\n        setDisableBtn(true);\r\n        await restoreReq();\r\n\r\n    };\r\n    const { mutateAsync: restoreReq } = useMutation(async () => {\r\n        const response = await axiosPrivate.post(USER_API_URL.removeArchiveUser, { id: deleteData._id, type: deleteData?.status });\r\n        return response;\r\n    }, {\r\n        onSuccess: (data) => {\r\n            enqueueSnackbar(data.data.message, {\r\n                variant: \"success\",\r\n                anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n                autoHideDuration: 2000,\r\n            });\r\n\r\n        },\r\n        onError: (error) => {\r\n            if (error?.response?.data.errors || error?.response?.data?.message) {\r\n                const errors = error?.response?.data?.errors\r\n                const errorMessage = error?.response?.data?.message;\r\n                if (errorMessage) {\r\n                    enqueueSnackbar(errorMessage, {\r\n                        variant: \"error\",\r\n                        anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n                        autoHideDuration: 2000,\r\n                    });\r\n                } else if (errors)\r\n                    Object.keys(errors).map(function (key) {\r\n                        return enqueueSnackbar(errors[key], {\r\n                            variant: \"error\",\r\n                            anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n                            autoHideDuration: 2000,\r\n                        });\r\n                    });\r\n            }\r\n        },\r\n        onSettled: () => {\r\n            setDisableBtn(false);\r\n            handleClose()\r\n            refetch();\r\n        }\r\n    })\r\n\r\n    const TABLE_HEAD = [\r\n        { id: 'userName', label: 'name', alignRight: false },\r\n        { id: 'email', label: 'email', alignRight: false },\r\n        { id: 'mobile', label: 'mobile', alignRight: false },\r\n        { id: 'restore_request_type', label: 'restore request type', alignRight: false },\r\n        { id: 'createdAt', label: 'date', alignRight: false },\r\n        { id: 'action', label: 'action', alignRight: false },\r\n    ];\r\n\r\n\r\n    useEffect(() => {\r\n        var arr = [];\r\n        tableData.map((item) => {\r\n            const createdAt = new Date(item?.createdAt).toLocaleString();\r\n            var obj = {\r\n                \"name\": item?.businessId ? item?.businessName : item?.userName,\r\n                \"email\": item?.businessId ? item?.businessEmail : item?.userEmail,\r\n                \"mobile\": item?.mobile ? item?.mobile : '-',\r\n                \"restore_request_type\": item?.businessId ? 'Business' : ' User',\r\n                \"createdAt\": createdAt ?? '-',\r\n            }\r\n            arr.push(obj);\r\n        })\r\n        setCsvData(arr)\r\n    }, [tableData]);\r\n    const headers = [\r\n        { label: \"name\", key: \"name\" },\r\n        { label: \"email\", key: \"email\" },\r\n        { label: \"mobile\", key: \"mobile\" },\r\n        { label: \"restore_request_type\", key: \"restore_request_type\" },\r\n        { label: \"createdAt\", key: \"createdAt\" },\r\n    ];\r\n    let csvReport = {\r\n        data: CsvData,\r\n        headers: headers,\r\n        filename: 'beemz-restore-deleted-users.csv'\r\n    };\r\n    const handleFilterByName = (event) => {\r\n        setFilterName(event.target.value.trim());\r\n        getArchivedUser(page, filterName);\r\n    };\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n        setTimeout(() => {\r\n            refetch();\r\n        }, 500);\r\n    };\r\n\r\n    // get deleted users\r\n    async function getArchivedUser(page, filterName) {\r\n        const response = await axiosPrivate.get(USER_API_URL.getDeletedReqList, { params: { page: page + 1, search: filterName, limit: rowsPerPage } })\r\n        return response.data[0];\r\n    }\r\n    const { isLoading, data: userArchivedList, refetch } = useQuery(['userArchivedList', page, filterName], () => getArchivedUser(page, filterName), { keepPreviousData: true, })\r\n    useEffect(() => {\r\n        if (userArchivedList) {\r\n            setTableData(userArchivedList?.data);\r\n            setRowsPerPage(userArchivedList?.metadata.length != 0 ? userArchivedList?.metadata[0].limit : 10);\r\n        }\r\n        if (userArchivedList?.metadata.length != 0 && userArchivedList?.metadata[0].hasMoreData == true) {\r\n            getArchivedUser(page + 1);\r\n        }\r\n        setTimeout(() => {\r\n            setLoding(false);\r\n        }, 1800);\r\n    }, [userArchivedList])\r\n\r\n    if (isLoading) return <LoadingScreen />\r\n\r\n    const filteredUsers = applySortFilter(tableData, getComparator(order, orderBy));\r\n\r\n    //dialogue\r\n    const handleClickOpen = (value) => {\r\n        setDeleteData(value);\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        setDisableBtn(false);\r\n    };\r\n\r\n\r\n    const handleRequestEdit = (data) => {\r\n        if (data?.is_business == 1) {\r\n            navigate(PATH_DASHBOARD.general.restoreBusinessView, { state: { id: data._id } })\r\n        } else {\r\n            navigate(PATH_DASHBOARD.general.restoreUserView, { state: { id: data._id } })\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {loding ? <LoadingScreen /> : <>\r\n                <div className=\"dashboard_header mb-4\">\r\n                    <Paper className='dashboard_searchbox col-lg-4'>\r\n                        <IconButton>\r\n                            <SearchIcon />\r\n                        </IconButton>\r\n                        <InputBase\r\n                            fullWidth\r\n                            sx={{ flex: 1 }}\r\n                            placeholder=\"search user name...\"\r\n                            onChange={(e) => handleFilterByName(e)}\r\n                        />\r\n                    </Paper>\r\n                    <Stack direction={\"row\"} className=\"d-flex align-items-center\" spacing={2}>\r\n                        <AppTooltip title=\"refresh\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\"><RefreshOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></Button></AppTooltip>\r\n                        {/* csv */}\r\n                        {permissionsData?.users?.substring(1, 2) == \"1\"\r\n                            ?\r\n                            <AppTooltip title=\"export-users\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\" ><CSVLink {...csvReport}><FileUploadOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></CSVLink></Button></AppTooltip> : ''}\r\n                    </Stack>\r\n                </div>\r\n                <Dialog\r\n                    fullScreen={fullScreen}\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"responsive-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"responsive-dialog-title\" className='m-auto'>\r\n                        {\"Are you sure you want to remove user from archive?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                    </DialogContent>\r\n                    <DialogActions className='m-auto'>\r\n                        <Button className=\"theme_button_view\" variant=\"contained\" autoFocus onClick={handleClose}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button className=\"theme_button_view\" variant=\"contained\" disabled={disableBtn} onClick={() => updateRequest()} autoFocus>\r\n                            restore\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Card>\r\n                    <TableContainer>\r\n                        <Table>\r\n                            <UserListHead\r\n                                headLabel={TABLE_HEAD}\r\n                                rowCount={0}\r\n                                onRequestSort={handleRequestSort}\r\n                            />\r\n                            {tableData?.length > 0 ?\r\n                                <TableBody>\r\n                                    {filteredUsers?.map((row, i) => (\r\n                                        <StyledTableRow key={i}>\r\n                                            <TableCell component=\"th\" scope=\"row\">\r\n                                                {row?.is_business == 0 ? row.userName : row.businessName}\r\n                                            </TableCell>\r\n                                            <TableCell component=\"th\" scope=\"row\">\r\n                                                {row?.is_business == 0 ? row.userEmail : row.businessEmail}\r\n                                            </TableCell>\r\n                                            <TableCell component=\"th\" scope=\"row\">\r\n                                                {row?.mobile  ? row.mobile : '-'}\r\n                                            </TableCell>\r\n                                            <TableCell component=\"th\" scope=\"row\">\r\n                                                {row?.is_business == 0 ? \"User\" : \"Business\"}\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\"> {moment(row.createdAt).format(\"MMM DD YYYY h:mm A\")}</TableCell>\r\n                                            <TableCell>\r\n                                                <Stack direction=\"row\" spacing={3}>\r\n                                                    {/* Restore  */}\r\n                                                    <AppTooltip title=\"delete user & business\" placement=\"bottom\"><Button className=\"theme_button\" variant=\"contained\" onClick={(e) => handleClickOpen(row)}>restore</Button></AppTooltip>\r\n\r\n                                                    {/* view user */}\r\n                                                    <AppTooltip title=\"view user\" placement=\"bottom\"><Button className=\"invalid_button\" variant=\"contained\" onClick={() => handleRequestEdit(row)} >View</Button></AppTooltip>\r\n\r\n\r\n                                                </Stack>\r\n                                            </TableCell>\r\n                                        </StyledTableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n\r\n                                :\r\n\r\n                                <TableBody>\r\n                                    <TableRow>\r\n                                        <TableCell align=\"center\" colSpan={6} sx={{ py: 5 }}>\r\n                                            <span className=\"app_text_16_semibold\">no data found</span>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                </TableBody>\r\n\r\n                            }\r\n\r\n                        </Table>\r\n                    </TableContainer>\r\n                    <TablePagination\r\n                        component=\"div\"\r\n                        rowsPerPageOptions={[10, 20, 50, 100]}\r\n                        count={userArchivedList?.metadata.length != 0 ? userArchivedList?.metadata[0].total : 0}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                    />\r\n                </Card>\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RestoreUserDeleteReq"],"sourceRoot":""}