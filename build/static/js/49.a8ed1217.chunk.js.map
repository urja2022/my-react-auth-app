{"version":3,"sources":["pages/dashboard/Event/Event.jsx"],"names":["require","Event","useState","tableData","setTableData","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","filterName","setFilterName","axiosPrivate","useAxiosPrivate","permissionsData","useStore","state","permissions","loding","setLoding","enqueueSnackbar","useSnackbar","openLinkPopup","setOpenLinkPopup","id","setId","CsvData","setCsvData","filterValue","setFilterValue","navigate","useNavigate","StyledTableRow","styled","TableRow","theme","backgroundColor","background","border","useEffect","arr","map","item","obj","title","description","eventDate","moment","format","time","duration","businessId","status","push","csvReport","data","headers","label","key","filename","fetchSeeker","get","USER_API_URL","eventList","params","search","limit","eventStatus","response","useQuery","keepPreviousData","isLoading","refetch","metadata","length","setTimeout","Math","max","put","eventInactive","variant","anchorOrigin","vertical","horizontal","autoHideDuration","handleActionPages","flug","PATH_DASHBOARD","general","eventDetails","eventData","userEventEdit","eventInvitedUserList","eventId","_id","className","fullWidth","sx","flex","placeholder","onChange","e","target","value","trim","labelId","defaultValue","handleFilter","direction","spacing","placement","style","fontSize","color","event","substring","headLabel","alignRight","rowCount","onRequestSort","property","row","today","dateTime","eventDateTime","component","scope","align","noOfGuest","isCancle","checked","handleChangeEventStatus","defaultChecked","bgcolor","onClick","colSpan","py","rowsPerPageOptions","count","total","onPageChange","newPage","onRowsPerPageChange","parseInt","newLinkId","open","onClose"],"mappings":"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","file":"static/js/49.a8ed1217.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Card, Table, TableBody, TableCell, TableContainer, TablePagination, TableRow, Switch, MenuItem, Select } from \"@material-ui/core\";\r\nimport { styled } from '@mui/material/styles';\r\nimport RefreshOutlinedIcon from '@mui/icons-material/RefreshOutlined';\r\nimport { useQuery } from 'react-query';\r\nimport { USER_API_URL } from \"src/api/axios\";\r\nimport UserListHead from \"src/components/user/UserListHead\";\r\nimport useAxiosPrivate from \"src/hooks/useAxiosPrivate\";\r\nimport Stack from '@mui/material/Stack';\r\nimport { Button, IconButton, InputBase, Paper, Chip, FormControl } from \"@mui/material\";\r\nimport SearchIcon from \"src/svgComponents/SearchIcon\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport LoadingScreen from 'src/components/LoadingScreen'\r\nimport useStore from 'src/contexts/AuthProvider'\r\nimport AppTooltip from \"src/components/common/AppTooltip\";\r\nimport moment from 'moment'\r\nimport EventBlockUserPopup from 'src/components/user/EventBlockUserPopup';\r\nimport { CSVLink } from \"react-csv\";\r\nimport FileUploadOutlinedIcon from '@mui/icons-material/FileUploadOutlined';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport { PATH_DASHBOARD } from \"src/routes/paths\";\r\nimport { useNavigate } from \"react-router\";\r\nimport EditPenIcon from \"src/svgComponents/EditPenIcon\";\r\nimport PeopleAltOutlinedIcon from '@mui/icons-material/PeopleAltOutlined';\r\nimport { result } from \"lodash\";\r\n\r\nconst _ = require('lodash');\r\n\r\nexport default function Event() {\r\n\tconst [tableData, setTableData] = useState([]);\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [order, setOrder] = useState('asc');\r\n\tconst [orderBy, setOrderBy] = useState('name');\r\n\tconst [filterName, setFilterName] = useState('');\r\n\tconst axiosPrivate = useAxiosPrivate();\r\n\tconst permissionsData = useStore(state => state.permissions);\r\n\tconst [loding, setLoding] = useState(true);\r\n\tconst { enqueueSnackbar } = useSnackbar();\r\n\tconst [openLinkPopup, setOpenLinkPopup] = useState(false);\r\n\tconst [id, setId] = useState(false);\r\n\tconst [CsvData, setCsvData] = useState([]);\r\n\tconst [filterValue, setFilterValue] = useState(1);\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: '#ffffff',\r\n\t\t},\r\n\t\t'&:nth-of-type(even)': {\r\n\t\t\tbackground: \"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7\",\r\n\t\t},\r\n\t\t// hide last border\r\n\t\t'& td, & th': {\r\n\t\t\tborder: 0,\r\n\t\t},\r\n\t}));\r\n\r\n\tconst TABLE_HEAD = [\r\n\t\t{ id: 'title', label: 'title', alignRight: false },\r\n\t\t{ id: 'eventDate', label: 'event date', alignRight: false },\r\n\t\t{ id: 'time', label: 'event time', alignRight: false },\r\n\t\t{ id: 'duration', label: 'duration', alignRight: false },\r\n\t\t{ id: 'type', label: 'type', alignRight: false },\r\n\t\t{ id: 'noOfGuest', label: 'total no. of guest', alignRight: false },\r\n\t\t{ id: 'event status', label: 'event status', alignRight: false },\r\n\t\t{ id: 'status', label: 'status', alignRight: false },\r\n\t\t{ id: 'action', label: 'action', alignRight: false },\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tvar arr = [];\r\n\t\ttableData.map((item) => {\r\n\t\t\tvar obj = {\r\n\t\t\t\t\"title\": item?.title ? item?.title : '-',\r\n\t\t\t\t\"description\": item?.description ? item?.description : '-',\r\n\t\t\t\t\"event date\": item?.eventDate ? moment(item?.eventDate).format(\"MMM DD YYYY h:mm A\") : '-',\r\n\t\t\t\t\"event time\": item?.time ? item?.time : '-',\r\n\t\t\t\t\"duration\": item?.duration ? item?.duration + ' days' : '-',\r\n\t\t\t\t\"type\": item?.businessId ? 'business' : 'user',\r\n\t\t\t\t\"status\": item?.status == 1 ? 'enable' : 'disable',\r\n\t\t\t}\r\n\t\t\tarr.push(obj);\r\n\t\t})\r\n\t\tsetCsvData(arr)\r\n\t}, [tableData]);\r\n\r\n\tconst headers = [\r\n\t\t{ label: 'title', key: \"title\" },\r\n\t\t{ label: 'description', key: \"description\" },\r\n\t\t{ label: 'event date', key: \"event date\" },\r\n\t\t{ label: 'event time', key: \"event time\" },\r\n\t\t{ label: 'duration', key: \"duration\" },\r\n\t\t{ label: 'type', key: \"type\" },\r\n\t\t{ label: 'status', key: \"status\" },\r\n\t];\r\n\r\n\tlet csvReport = {\r\n\t\tdata: CsvData,\r\n\t\theaders: headers,\r\n\t\tfilename: 'beemz-events.csv'\r\n\t};\r\n\tasync function fetchSeeker(page, filterName, filterValue) {\r\n\t\tconst response = await axiosPrivate.get(USER_API_URL.eventList, { params: { page: page + 1, search: filterName, limit: rowsPerPage, eventStatus: filterValue } })\r\n\t\treturn response.data[0];\r\n\t}\r\n\r\n\tconst { isLoading, data: eventList, refetch } = useQuery(['eventList', page, filterName, filterValue], () => fetchSeeker(page, filterName, filterValue), { keepPreviousData: true, })\r\n\r\n\tuseEffect(() => {\r\n\t\tif (eventList) {\r\n\t\t\tsetTableData(eventList?.data);\r\n\t\t\tsetRowsPerPage(eventList?.metadata.length != 0 ? eventList?.metadata[0].limit : 10);\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoding(false);\r\n\t\t}, 1800);\r\n\t}, [eventList])\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\r\n\t\tsetPage(0);\r\n\t\tsetTimeout(() => {\r\n\t\t\trefetch();\r\n\t\t}, 500);\r\n\t};\r\n\r\n\tconst handleFilterByName = (event) => {\r\n\t\tsetFilterName(event.target.value.trim());\r\n\t\tfetchSeeker(page, filterName, filterValue);\r\n\t};\r\n\r\n\tconst handleRequestSort = (event, property) => {\r\n\t\tconst isAsc = orderBy === property && order === 'asc';\r\n\t\tsetOrder(isAsc ? 'desc' : 'asc');\r\n\t\tsetOrderBy(property);\r\n\t};\r\n\r\n\tconst emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - eventList?.data?.length) : 0;\r\n\r\n\tasync function handleChangeEventStatus(id) {\r\n\t\tsetLoding(true)\r\n\t\tconst response = await axiosPrivate.put(USER_API_URL.eventInactive + id)\r\n\t\tif (response.status == 200) {\r\n\t\t\trefetch();\r\n\t\t\tenqueueSnackbar(\"status change successfully \", {\r\n\t\t\t\tvariant: \"success\",\r\n\t\t\t\tanchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n\t\t\t\tautoHideDuration: 2000,\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetLoding(false);\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\tenqueueSnackbar(\"something went wrong\", {\r\n\t\t\t\tvariant: \"error\",\r\n\t\t\t\tanchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n\t\t\t\tautoHideDuration: 2000,\r\n\t\t\t});\r\n\t\t\tsetLoding(false)\r\n\t\t}\r\n\t};\r\n\t// async function handleChangeBlockUsers(id) {\r\n\t// \tsetOpenLinkPopup(true);\r\n\t// \tsetId(id);\r\n\t// };\r\n\tconst handleLinkPopupClose = (value) => {\r\n\t\tsetOpenLinkPopup(false);\r\n\t\tsetId(false)\r\n\t};\r\n\r\n\tconst handleActionPages = (data, flug) => {\r\n\t\tif (flug === 'view') {\r\n\t\t\tnavigate(PATH_DASHBOARD.general.eventDetails, { state: { eventData: data } });\r\n\t\t} else if (flug === 'edit') {\r\n\t\t\tnavigate(PATH_DASHBOARD.general.userEventEdit, { state: { eventData: data } });\r\n\t\t} else {\r\n\t\t\tnavigate(PATH_DASHBOARD.general.eventInvitedUserList, { state: { eventId: data._id } });\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleFilter = (e) => {\r\n\t\tsetFilterValue(e.target.value)\r\n\t\trefetch()\r\n\t}\r\n\tif (isLoading) return <LoadingScreen />\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loding ? <LoadingScreen /> : <>\r\n\t\t\t\t<div className=\"dashboard_header mb-4\">\r\n\t\t\t\t\t<Paper className='dashboard_searchbox col-lg-4'>\r\n\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tsx={{ flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"search event...\"\r\n\t\t\t\t\t\t\tonChange={(e) => handleFilterByName(e)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<div className=\"form-group w-25\">\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\tlabel=\"filter\"\r\n\t\t\t\t\t\t\t\tdefaultValue={filterValue}\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleFilter(e)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"1\"> all </MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"2\"> upcoming </MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"3\"> posted </MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"4\"> canceled </MenuItem>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Stack direction={\"row\"} className=\"d-flex align-items-center\" spacing={2}>\r\n\t\t\t\t\t\t<AppTooltip title=\"refresh\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t<Button className=\"dashboard_light_bg_icon_btn\"><RefreshOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></Button>\r\n\t\t\t\t\t\t</AppTooltip>\r\n\t\t\t\t\t\t{/* csv */}\r\n\t\t\t\t\t\t{permissionsData?.event?.substring(1, 2) == \"1\" ?\r\n\t\t\t\t\t\t\t<AppTooltip title=\"export-event\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t<Button className=\"dashboard_light_bg_icon_btn\" >\r\n\t\t\t\t\t\t\t\t\t<CSVLink {...csvReport}><FileUploadOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></CSVLink>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</AppTooltip> : ''}\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t<UserListHead\r\n\t\t\t\t\t\t\t\theadLabel={TABLE_HEAD}\r\n\t\t\t\t\t\t\t\trowCount={eventList?.data?.length}\r\n\t\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{tableData?.length > 0 ?\r\n\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{tableData.length != 0 && tableData?.map((row) => {\r\n\t\t\t\t\t\t\t\t\t\tvar today = moment().format(\"MMM DD YYYY hh:mm\");\r\n\t\t\t\t\t\t\t\t\t\tvar dateTime = moment(row?.eventDateTime).format(\"MMM DD YYYY hh:mm\");\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={row._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\"> {row.title} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\"> {moment(row?.eventDate).format(\"MMM DD YYYY\")} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\"> {moment(row?.time, 'hh:mm A').format(\"hh:mm A\")} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\"> {row?.duration ? row?.duration + ' hours' : ''} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\"> {row?.businessId ? 'business' : 'user'} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\"> {row?.noOfGuest ?? '-'} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(row?.isCancle === 1) ? <Chip label=\"canceled\" className=\"app_status_chip invalid\" /> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(today < dateTime) ? <Chip label=\"upcoming\" className=\"app_status_chip accepted\" /> : <Chip label=\"posted\" className=\"app_status_chip posted\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{row?.isCancle === 1 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch checked={row.status === 1 ? true : false} /> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"change status\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch checked={row.status === 1 ? true : false} onChange={() => handleChangeEventStatus(row._id)} defaultChecked /></AppTooltip>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Stack direction=\"row\" spacing={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {permissionsData?.sub_admin?.substring(2, 3) == \"1\" ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"event block user list\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => handleChangeBlockUsers(row._id)} variant=\"text\" className=\"user_list_row_btn\"><BlockOutlinedIcon /></Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AppTooltip> : ''} */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"event edit\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button sx={{ \"&:hover\": { bgcolor: \"transparent\" } }} onClick={() => handleActionPages(row, 'edit')} variant=\"text\" className=\"user_list_row_btn\"><EditPenIcon /></Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AppTooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"event view\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button sx={{ \"&:hover\": { bgcolor: \"transparent\" } }} onClick={() => handleActionPages(row, 'view')} variant=\"text\" className=\"user_list_row_btn\"><VisibilityIcon /></Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AppTooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"invited users\" placement=\"bottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button sx={{ \"&:hover\": { bgcolor: \"transparent\" } }} onClick={() => handleActionPages(row, 'invite')} variant=\"text\" className=\"user_list_row_btn\"><PeopleAltOutlinedIcon /></Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AppTooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* csv */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppTooltip title=\"export-events\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\" ><CSVLink {...csvReport}><FileUploadOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></CSVLink></Button></AppTooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Stack>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{/* {emptyRows > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow style={{ height: 53 * emptyRows }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={7} sx={{ py: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"app_text_16_semibold\">no data found</span>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableBody>}\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\trowsPerPageOptions={[10, 20, 50, 100]}\r\n\t\t\t\t\t\tcount={eventList?.metadata.length != 0 ? eventList?.metadata[0].total : 0}\r\n\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<EventBlockUserPopup newLinkId={id} open={openLinkPopup} onClose={handleLinkPopupClose} />\r\n\t\t\t\t</Card>\r\n\t\t\t</>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}"],"sourceRoot":""}