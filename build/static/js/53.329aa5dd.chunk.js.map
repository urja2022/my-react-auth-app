{"version":3,"sources":["pages/dashboard/SocialComment.jsx"],"names":["SocialComment","axiosPrivate","useAxiosPrivate","useState","loding","setLoding","enqueueSnackbar","useNavigate","useSnackbar","state","useLocation","StyledTableRow","styled","TableRow","theme","backgroundColor","background","border","useQuery","a","signal","get","SOCIAL_API_URL","getSocialCommentList","post_id","then","res","data","refetchOnWindowFocus","commentList","refetch","id","post","removeComment","postId","commentId","status","variant","anchorOrigin","vertical","horizontal","autoHideDuration","setTimeout","className","headLabel","label","alignRight","length","map","row","component","scope","userName","comment","align","moment","createdAt","format","title","placement","checked","isDeleteAdmin","onChange","handleChangeUserStatus","_id","defaultChecked","colSpan","sx","py"],"mappings":"gUAoIeA,UAtHO,WAClB,IAAMC,EAAeC,cACrB,EAA4BC,oBAAS,GAAK,mBAAnCC,EAAM,KAAEC,EAAS,KAEhBC,GADSC,cACWC,cAApBF,iBAEAG,EAAUC,cAAVD,MAEFE,EAAiBC,YAAOC,IAAPD,EAAiB,YAAQ,EAALE,MAAK,MAAQ,CACpD,qBAAsB,CAClBC,gBAAiB,WAGrB,sBAAuB,CACnBC,WAAY,sFAGhB,aAAc,CACVC,OAAQ,OAWhB,EAAuCC,mBACnC,cAAa,uCACb,6BAAAC,EAAA,sDAAe,OAANC,EAAM,EAANA,OAAM,SACEnB,EACRoB,IAAIC,IAAeC,sBAA4B,OAALd,QAAK,IAALA,OAAK,EAALA,EAAOe,SAAS,CAAEJ,WAC5DK,MAAK,SAACC,GAAG,OAAKA,EAAIC,KAAK,GAAGA,QAAM,KAAD,8EACvC,mDALY,GAMb,CAAEC,sBAAsB,IAPdC,EAAW,EAAjBF,KAAmBG,EAAO,EAAPA,QAaU,aAqBpC,OArBoC,wBAArC,WAAsCC,GAAE,iEACrB,OAAf1B,GAAU,GAAK,SACQJ,EAAa+B,KAAKV,IAAeW,cAAe,CAAEC,OAAa,OAALzB,QAAK,IAALA,OAAK,EAALA,EAAOe,QAASW,UAAWJ,IAAK,OAC1F,KADT,OACDK,QACTN,IACAxB,EAAgB,8BAA+B,CAC3C+B,QAAS,UACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAEtBC,YAAW,WACPrC,GAAU,KACX,OAEHC,EAAgB,uBAAwB,CACpC+B,QAAS,QACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAEtBpC,GAAU,IACb,4CACJ,sBAED,OA1BAqC,YAAW,WACPrC,GAAU,KACX,MAyBC,mCACKD,EAAS,cAAC,IAAa,IAAM,qCAC1B,qBAAKuC,UAAU,wBAAuB,SAClC,oBAAIA,UAAU,sDAAqD,SAAC,qBAExE,cAAC,IAAI,UACD,cAAC,IAAc,UACX,eAAC,IAAK,WACF,cAAC,IAAY,CACTC,UAtDT,CACf,CAAEb,GAAI,OAAQc,MAAO,OAAQC,YAAY,GACzC,CAAEf,GAAI,UAAWc,MAAO,UAAWC,YAAY,GAC/C,CAAEf,GAAI,YAAac,MAAO,OAAQC,YAAY,GAC9C,CAAEf,GAAI,UAAWc,MAAO,UAAWC,YAAY,OAoDf,OAAXjB,QAAW,IAAXA,OAAW,EAAXA,EAAakB,QAAS,EACnB,cAAC,IAAS,UACLlB,EAAYmB,KAAI,SAACC,GACd,OACI,eAACtC,EAAc,WACX,cAAC,IAAS,CAACuC,UAAU,KAAKC,MAAM,MAAK,SAC7B,OAAHF,QAAG,IAAHA,OAAG,EAAHA,EAAKG,WAEV,cAAC,IAAS,CAACF,UAAU,KAAKC,MAAM,MAAK,SAC7B,OAAHF,QAAG,IAAHA,OAAG,EAAHA,EAAKI,UAEV,cAAC,IAAS,CAACC,MAAM,OAAM,SAClBC,IAAON,EAAIO,WAAWC,OAAO,wBAElC,cAAC,IAAS,CAACH,MAAM,OAAM,SACnB,cAAC,IAAU,CAACI,MAAM,gBAAgBC,UAAU,SAAQ,SAAC,cAAC,IAAM,CACxDC,QAA+B,IAAtBX,EAAIY,cACbC,SAAU,kBArDrD,SAC6B,GAAD,+BAoD+BC,CAAuBd,EAAIe,MAC3CC,gBAAc,UAdLhB,EAAIe,UAqBrC,cAAC,IAAS,UACN,cAAC,IAAQ,UACL,cAAC,IAAS,CAACV,MAAM,SAASY,QAAS,EAAGC,GAAI,CAAEC,GAAI,GAAI,SAChD,sBAAMzB,UAAU,uBAAsB,SAAC","file":"static/js/53.329aa5dd.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Card, Table, TableBody, TableCell, TableContainer, TableRow, Switch } from \"@material-ui/core\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport useAxiosPrivate from \"src/hooks/useAxiosPrivate\";\r\nimport { SOCIAL_API_URL } from \"src/api/axios\";\r\nimport LoadingScreen from 'src/components/LoadingScreen'\r\nimport UserListHead from \"src/components/user/UserListHead\";\r\nimport moment from 'moment'\r\nimport { styled } from '@mui/material/styles';\r\nimport { useNavigate } from \"react-router\";\r\nimport AppTooltip from 'src/components/common/AppTooltip';\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst SocialComment = () => {\r\n    const axiosPrivate = useAxiosPrivate();\r\n    const [loding, setLoding] = useState(true);\r\n    const navigate = useNavigate();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const { state } = useLocation();\r\n\r\n    const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: '#ffffff',\r\n\r\n        },\r\n        '&:nth-of-type(even)': {\r\n            background: \"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7\",\r\n        },\r\n        // hide last border\r\n        '& td, & th': {\r\n            border: 0,\r\n        },\r\n    }));\r\n    const TABLE_HEAD = [\r\n        { id: 'name', label: 'name', alignRight: false },\r\n        { id: 'comment', label: 'comment', alignRight: false },\r\n        { id: 'createdAt', label: 'date', alignRight: false },\r\n        { id: 'enabled', label: 'enabled', alignRight: false },\r\n\r\n    ];\r\n\r\n    const { data: commentList, refetch } = useQuery(\r\n        \"commentList\",\r\n        async ({ signal }) => {\r\n            return await axiosPrivate\r\n                .get(SOCIAL_API_URL.getSocialCommentList + state?.post_id, { signal })\r\n                .then((res) => res.data[0].data);\r\n        },\r\n        { refetchOnWindowFocus: false }\r\n    );\r\n\r\n    setTimeout(() => {\r\n        setLoding(false);\r\n    }, 1800);\r\n    async function handleChangeUserStatus(id) {\r\n        setLoding(true)\r\n        const response = await axiosPrivate.post(SOCIAL_API_URL.removeComment, { postId: state?.post_id, commentId: id })\r\n        if (response.status == 200) {\r\n            refetch();\r\n            enqueueSnackbar(\"status change successfully \", {\r\n                variant: \"success\",\r\n                anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n                autoHideDuration: 2000,\r\n            });\r\n            setTimeout(() => {\r\n                setLoding(false);\r\n            }, 1000);\r\n        } else {\r\n            enqueueSnackbar(\"something went wrong\", {\r\n                variant: \"error\",\r\n                anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n                autoHideDuration: 2000,\r\n            });\r\n            setLoding(false)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {loding ? <LoadingScreen /> : <>\r\n                <div className=\"dashboard_header mb-4\">\r\n                    <h4 className=\"app_text_20_semibold mb-0 d-flex align-items-center\">posts comments</h4>\r\n                </div>\r\n                <Card>\r\n                    <TableContainer>\r\n                        <Table>\r\n                            <UserListHead\r\n                                headLabel={TABLE_HEAD}\r\n                            />\r\n                            {commentList?.length > 0 ?\r\n                                <TableBody>\r\n                                    {commentList.map((row) => {\r\n                                        return (\r\n                                            <StyledTableRow key={row._id}>\r\n                                                <TableCell component=\"th\" scope=\"row\">\r\n                                                    {row?.userName}\r\n                                                </TableCell>\r\n                                                <TableCell component=\"th\" scope=\"row\">\r\n                                                    {row?.comment}\r\n                                                </TableCell>\r\n                                                <TableCell align=\"left\">\r\n                                                    {moment(row.createdAt).format(\"MMM DD YYYY h:mm A\")}\r\n                                                </TableCell>\r\n                                                <TableCell align=\"left\">\r\n                                                    <AppTooltip title=\"change status\" placement=\"bottom\"><Switch\r\n                                                        checked={row.isDeleteAdmin !== 1 ? true : false}\r\n                                                        onChange={() => handleChangeUserStatus(row._id)}\r\n                                                        defaultChecked /></AppTooltip>\r\n                                                </TableCell>\r\n                                            </StyledTableRow>\r\n                                        )\r\n                                    })}\r\n                                </TableBody>\r\n                                :\r\n                                <TableBody>\r\n                                    <TableRow>\r\n                                        <TableCell align=\"center\" colSpan={5} sx={{ py: 5 }}>\r\n                                            <span className=\"app_text_16_semibold\">no data found</span>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                </TableBody>}\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Card>\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SocialComment"],"sourceRoot":""}