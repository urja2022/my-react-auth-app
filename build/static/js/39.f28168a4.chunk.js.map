{"version":3,"sources":["pages/dashboard/RolesPermissions.jsx","../node_modules/@mui/icons-material/AddCircleOutlineOutlined.js"],"names":["require","RolesPermissions","useState","tableData","setTableData","page","modelTitle","setmodelTitle","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","permissions","setPermissions","filterName","setFilterName","axiosPrivate","useAxiosPrivate","enqueueSnackbar","useNavigate","useSnackbar","Id","setId","permissionsObj","setPermissionsObj","permissionsData","useStore","state","loding","setLoding","StyledTableRow","styled","TableRow","theme","backgroundColor","background","border","a","get","ROLE_API_URL","getRoleList","response","data","useQuery","getRoleData","keepPreviousData","isLoading","roleData","refetch","useEffect","setTimeout","handleRequestSort","event","property","emptyRows","Math","max","length","isUserNotFound","completedSchema","Yup","shape","name","min","required","formik","useFormik","initialValues","admin_email","validationSchema","onSubmit","values","resetForm","setFieldError","setSubmitting","informationObj","users","category","sub_admin","roles","trust_level","trace_request","trace_history","configurable_fields","business_request","addRole","updateRole","useMutation","put","JSON","stringify","onSuccess","variant","anchorOrigin","vertical","horizontal","autoHideDuration","handleCloseModal","onError","error","errorData","errors","Object","keys","forEach","key","mutateAsync","post","handleChangeRole","index","str","chr","substring","setCharAt","target","checked","openModal","setOpenModal","touched","setFieldValue","handleSubmit","getFieldProps","className","fullWidth","sx","flex","placeholder","onChange","e","value","trim","direction","spacing","title","placement","onClick","style","fontSize","color","headLabel","id","label","alignRight","rowCount","onRequestSort","filter","user","toLowerCase","includes","map","row","component","scope","align","moment","createdAt","format","bgcolor","permission","_id","handleOpenModalUpdate","height","colSpan","py","open","onClose","autoComplete","noValidate","Boolean","helperText","item","i","type","_interopRequireDefault","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"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","file":"static/js/39.f28168a4.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Card, Table, TableBody, TableCell, TableContainer, TableRow, Switch, Box, Paper, IconButton } from \"@material-ui/core\";\r\nimport { styled } from '@mui/material/styles';\r\nimport AddCircleOutlineOutlinedIcon from '@mui/icons-material/AddCircleOutlineOutlined';\r\nimport RefreshOutlinedIcon from '@mui/icons-material/RefreshOutlined';\r\nimport { useQuery } from 'react-query';\r\nimport { ROLE_API_URL } from \"src/api/axios\";\r\nimport UserListHead from \"src/components/user/UserListHead\";\r\nimport useAxiosPrivate from \"src/hooks/useAxiosPrivate\";\r\nimport EditPenIcon from 'src/svgComponents/EditPenIcon'\r\nimport Stack from '@mui/material/Stack';\r\nimport { Button, Modal, TextField, InputBase } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router\";\r\nimport SearchIcon from \"src/svgComponents/SearchIcon\";\r\nimport { Form, FormikProvider, useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport moment from 'moment'\r\nimport LoadingScreen from 'src/components/LoadingScreen'\r\nimport useStore from 'src/contexts/AuthProvider'\r\nimport AppTooltip from \"src/components/common/AppTooltip\";\r\n\r\nconst _ = require('lodash');\r\n\r\nexport default function RolesPermissions() {\r\n  const [tableData, setTableData] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [modelTitle, setmodelTitle] = useState(\"\");\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('name');\r\n  const [permissions, setPermissions] = useState(['users', 'category','chat_category', 'sub_admin', 'roles', 'trust_level', 'trace_request', 'trace_history', 'configurable_fields', 'business_request', 'group_chat_admin', 'employee_request', 'employee_history' , 'event','posts']);\r\n  const [filterName, setFilterName] = useState('');\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [Id, setId] = useState(\"\");\r\n  const [permissionsObj, setPermissionsObj] = useState({});\r\n  const permissionsData = useStore(state => state.permissions);\r\n  const [loding, setLoding] = useState(true);\r\n\r\n  const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: '#ffffff',\r\n\r\n    },\r\n    '&:nth-of-type(even)': {\r\n      background: \"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7\",\r\n    },\r\n    // hide last border\r\n    '& td, & th': {\r\n      border: 0,\r\n    },\r\n  }));\r\n\r\n  const TABLE_HEAD = [\r\n    { id: 'name', label: 'name', alignRight: false },\r\n    { id: 'createdAt', label: 'date', alignRight: false },\r\n    { id: 'action', label: 'action', alignRight: false },\r\n  ];\r\n\r\n  const TABLE_HEAD_ROLE = [\r\n    { id: 'Permissions', label: 'permissions', alignRight: false },\r\n    { id: 'All', label: 'all', alignRight: false },\r\n    { id: 'List', label: 'list', alignRight: false },\r\n    { id: 'Add', label: 'add', alignRight: false },\r\n    { id: 'Delete', label: 'delete', alignRight: false },\r\n    { id: 'Update', label: 'update', alignRight: false },\r\n    { id: 'Export', label: 'export', alignRight: false },\r\n  ];\r\n\r\n  async function getRoleData() {\r\n    const response = await axiosPrivate.get(ROLE_API_URL.getRoleList)\r\n    return response.data;\r\n  }\r\n\r\n  const { isLoading, data: roleData, refetch } = useQuery(['roleData'], () => getRoleData(), { keepPreviousData: true, })\r\n\r\n  useEffect(() => {\r\n    if (roleData) {\r\n      setTableData(roleData.data ? [] : roleData);\r\n      setRowsPerPage(10);\r\n    }\r\n    setTimeout(() => {\r\n      setLoding(false);\r\n    }, 1800);\r\n  }, [roleData])\r\n\r\n  const handleFilterByName = (event) => {\r\n    setFilterName(event.target.value.trim());\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - roleData?.data?.length) : 0;\r\n\r\n  const filteredUsers = tableData;\r\n  const isUserNotFound = filteredUsers?.length === 0;\r\n\r\n  const completedSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n      .min(2, \"name can set of between 2 and 50 characters!\")\r\n      .max(50, \"name can set of between 2 and 50 characters!\")\r\n      .required(\"role name is required\"),\r\n  });\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n      admin_email: '',\r\n    },\r\n    validationSchema: completedSchema,\r\n    onSubmit: async (values, { resetForm, setFieldError, setSubmitting }) => {\r\n      const informationObj = {\r\n        name: values.name,\r\n        users: permissionsObj.users,\r\n        category: permissionsObj.category,\r\n        sub_admin: permissionsObj.sub_admin,\r\n        roles: permissionsObj.roles,\r\n        trust_level: permissionsObj.trust_level,\r\n        trace_request: permissionsObj.trace_request,\r\n        trace_history: permissionsObj.trace_history,\r\n        configurable_fields: permissionsObj.configurable_fields,\r\n        business_request: permissionsObj.business_request\r\n      };\r\n      if (Id == '') {\r\n        await addRole(informationObj);\r\n      } else {\r\n        await updateRole(informationObj);\r\n      }\r\n      resetForm();\r\n      setSubmitting(false);\r\n    },\r\n  });\r\n\r\n  const { mutateAsync: updateRole } = useMutation(\r\n    async (data) => {\r\n      return await axiosPrivate.put(ROLE_API_URL.updateRole + Id, JSON.stringify(data))\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        refetch();\r\n        enqueueSnackbar(\"Role Update successfully \", {\r\n          variant: \"success\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n        handleCloseModal();\r\n      },\r\n      onError: (error) => {\r\n        const errorData = error.response.data.errors;\r\n\r\n        Object.keys(errorData).forEach((key) => {\r\n          if (key === \"name\") {\r\n            setFieldError(\"name\", errorData[key]);\r\n          } else {\r\n            setFieldError(key, errorData[key]);\r\n          }\r\n        });\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutateAsync: addRole } = useMutation(\r\n    async (data) => {\r\n      return await axiosPrivate.post(ROLE_API_URL.addRole, JSON.stringify(data))\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        refetch();\r\n        enqueueSnackbar(\"Role add successfully \", {\r\n          variant: \"success\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n        handleCloseModal();\r\n      },\r\n      onError: (error) => {\r\n        const errorData = error.response.data.errors;\r\n\r\n        Object.keys(errorData).forEach((key) => {\r\n          if (key === \"name\") {\r\n            setFieldError(\"name\", errorData[key]);\r\n          } else {\r\n            setFieldError(key, errorData[key]);\r\n          }\r\n        });\r\n      },\r\n    }\r\n  );\r\n  function setCharAt(str, index, chr) {\r\n    if (index > str.length - 1) return str;\r\n    return str.substring(0, index) + chr + str.substring(index + 1);\r\n  }\r\n  const handleChangeRole = (event, index, name) => {\r\n    permissionsObj[name] = setCharAt(permissionsObj[name], index, event.target.checked ? \"1\" : \"0\");\r\n    setPermissions(['users', 'category','chat_category', 'sub_admin', 'roles', 'trust_level', 'trace_request', 'trace_history', 'configurable_fields', 'business_request','group_chat_admin', 'employee_request', 'employee_history','event','posts']);\r\n  };\r\n  const handleChangeRoleAll = (event, name) => {\r\n    permissionsObj[name] = event.target.checked ? \"11111\" : \"00000\";\r\n    setPermissions(['users', 'category', 'chat_category','sub_admin', 'roles', 'trust_level', 'trace_request', 'trace_history', 'configurable_fields', 'business_request','group_chat_admin', 'employee_request', 'employee_history','event','posts']);\r\n  };\r\n\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const handleOpenModalAdd = () => {\r\n    setFieldValue('name', \"\")\r\n    setmodelTitle('add')\r\n    setId('')\r\n    setPermissionsObj({\r\n      users: \"00000\",\r\n      category: \"00000\",\r\n      sub_admin: \"00000\",\r\n      trust_level: \"00000\",\r\n      roles: \"00000\",\r\n      trace_request: \"00000\",\r\n      trace_history: \"00000\",\r\n      configurable_fields: \"00000\",\r\n      business_request: \"00000\"\r\n    })\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleOpenModalUpdate = (row) => {\r\n    setPermissionsObj(row.permission);\r\n    setFieldValue('name', row.name)\r\n    setId(row._id)\r\n    setmodelTitle('update')\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const { errors, touched, setFieldValue, handleSubmit, setFieldError, getFieldProps } = formik;\r\n  if (isLoading) return <LoadingScreen />\r\n\r\n  return (\r\n    <>\r\n      {loding ? <LoadingScreen /> : <>\r\n        <div className=\"dashboard_header mb-4\">\r\n          <Paper className='dashboard_searchbox col-lg-4'>\r\n            <IconButton>\r\n              <SearchIcon />\r\n            </IconButton>\r\n            <InputBase\r\n              fullWidth\r\n              sx={{ flex: 1 }}\r\n              placeholder=\"search role...\"\r\n              onChange={(e) => handleFilterByName(e)}\r\n            />\r\n          </Paper>\r\n          <Stack direction={\"row\"} className=\"d-flex align-items-center\" spacing={2}>\r\n            {permissionsData?.roles?.substring(1, 2) == \"1\"\r\n              ? <AppTooltip title=\"add role\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\" onClick={handleOpenModalAdd}><AddCircleOutlineOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></Button></AppTooltip> : ''}\r\n            <AppTooltip title=\"refresh\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\"><RefreshOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></Button></AppTooltip>\r\n          </Stack>\r\n        </div>\r\n        <Card>\r\n          <TableContainer>\r\n            <Table>\r\n              <UserListHead\r\n                headLabel={TABLE_HEAD}\r\n                rowCount={roleData?.data?.length}\r\n                onRequestSort={handleRequestSort}\r\n              />\r\n              <TableBody>\r\n                {tableData.length != 0 && tableData?.filter(user => user?.name?.toLowerCase().includes(filterName.toLowerCase())).map((row) => {\r\n                  return (\r\n                    <StyledTableRow key={row._id}>\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        {row.name}\r\n                      </TableCell>\r\n                      <TableCell align=\"left\"> {moment(row.createdAt).format(\"MMM DD YYYY h:mm A\")}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" spacing={3}>\r\n                          {permissionsData?.roles?.substring(3, 4) == \"1\"\r\n                            ? <AppTooltip title=\"role edit\" placement=\"bottom\"><Button sx={{ \"&:hover\": { bgcolor: \"transparent\" } }}\r\n                              onClick={() => handleOpenModalUpdate(row)}\r\n                              variant=\"text\" className=\"user_list_row_btn\"><EditPenIcon /></Button></AppTooltip> : ''}\r\n                        </Stack>\r\n                      </TableCell>\r\n                    </StyledTableRow>\r\n                  )\r\n                })}\r\n                {emptyRows > 0 && (\r\n                  <TableRow style={{ height: 53 * emptyRows }}>\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n              {isUserNotFound && (\r\n                <TableBody>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\" colSpan={6} sx={{ py: 3 }}>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableBody>\r\n              )}\r\n            </Table>\r\n          </TableContainer>\r\n        </Card>\r\n        <Modal\r\n          open={openModal}\r\n          onClose={handleCloseModal}\r\n          aria-labelledby=\"child-modal-title\"\r\n          aria-describedby=\"child-modal-description\"\r\n        >\r\n          <Box className=\"modal_card modal_lg\">\r\n            <div className=\"modal_card_header\">\r\n              <div className=\"left_part\">\r\n                <h4>{modelTitle}</h4>\r\n              </div>\r\n              <div className=\"right_part\">\r\n                <Button className=\"dashboard_light_bg_icon_btn\" onClick={handleCloseModal} aria-label=\"delete\">\r\n                  <CloseIcon />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal_card_body custom_scrollbar max_hight500\">\r\n              <FormikProvider value={formik}>\r\n                <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-12\">\r\n                      <div className=\"form-group mb-4\">\r\n                        <TextField\r\n                          label='role name'\r\n                          autoComplete='off'\r\n                          fullWidth\r\n                          variant='outlined'\r\n                          {...getFieldProps(\"name\")}\r\n                          error={Boolean(touched.name && errors.name)}\r\n                          helperText={touched.name && errors.name}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <TableContainer>\r\n                    <Table>\r\n                      <UserListHead\r\n                        headLabel={TABLE_HEAD_ROLE}\r\n                        rowCount=\"7\"\r\n                        onRequestSort={handleRequestSort}\r\n                      />\r\n                      <TableBody>\r\n                        {permissions.map((item, i) => {\r\n                          return (\r\n                            <StyledTableRow key={i}>\r\n                              <TableCell component=\"th\" scope=\"row\">{item}</TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item] == \"11111\" ? true : false}\r\n                                onChange={(e) => handleChangeRoleAll(e, item)}\r\n                              /></TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item]?.substring(0, 1) == \"1\" ? true : false}\r\n                                onChange={(e) => handleChangeRole(e, 0, item)}\r\n                              /></TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item]?.substring(1, 2) == \"1\" ? true : false}\r\n                                onChange={(e) => handleChangeRole(e, 1, item)}\r\n                              /></TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item]?.substring(2, 3) == \"1\" ? true : false}\r\n                                onChange={(e) => handleChangeRole(e, 2, item)}\r\n                              /></TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item]?.substring(3, 4) == \"1\" ? true : false}\r\n                                onChange={(e) => handleChangeRole(e, 3, item)}\r\n                              /></TableCell>\r\n                              <TableCell align=\"left\"> <Switch\r\n                                checked={permissionsObj[item]?.substring(4, 5) == \"1\" ? true : false}\r\n                                onChange={(e) => handleChangeRole(e, 4, item)}\r\n                              /></TableCell>\r\n                            </StyledTableRow>\r\n                          )\r\n                        })}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                  <div className=\"col\">\r\n                    <div className=\"col-md-8 m-auto\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        className=\"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg\"\r\n                      >\r\n                        submit\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </FormikProvider>\r\n            </div>\r\n            <div className=\"modal_card_footer\"></div>\r\n          </Box>\r\n        </Modal>\r\n      </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutlineOutlined');\n\nexports.default = _default;"],"sourceRoot":""}