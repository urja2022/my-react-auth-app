(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[48],{1050:function(e,t,a){"use strict";a.r(t);var n=a(12),c=a.n(n),i=a(9),o=a(21),l=a(5),r=a(497),s=a(741),d=a(743),u=a(744),b=a(507),j=a(854),m=a(862),v=a(863),h=a(864),O=a(865),f=a(742),g=a(884),p=a(852),x=a(1),k=a(33),w=a(25),y=a(23),N=a(52),S=a(31),_=a(89),P=a(46),Y=a(32),C=a(69),M=a(90),R=a(91),D=a.n(R),F=(a(34),a(35)),L=a.n(F),z=a(0);function A(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}t.default=function(){var e=Object(x.useState)(0),t=Object(l.a)(e,2),a=t[0],n=t[1],R=Object(x.useState)(10),F=Object(l.a)(R,2),U=F[0],E=F[1],J=Object(x.useState)(""),T=Object(l.a)(J,2),V=T[0],q=T[1],I=Object(x.useState)("asc"),Q=Object(l.a)(I,2),W=Q[0],B=Q[1],G=Object(x.useState)("name"),H=Object(l.a)(G,2),K=H[0],X=H[1],Z=Object(x.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(P.a)(),ne=Object(x.useState)(!0),ce=Object(l.a)(ne,2),ie=ce[0],oe=ce[1],le=Object(x.useState)([]),re=Object(l.a)(le,2),se=re[0],de=re[1],ue=Object(w.g)(),be=Object(r.a)(s.a)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#ffffff"},"&:nth-of-type(even)":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7"},"& td, & th":{border:0}}}));Object(x.useEffect)((function(){var e=[];ee.map((function(t){var a={name:(null===t||void 0===t?void 0:t.name)?null===t||void 0===t?void 0:t.name:"-",email:(null===t||void 0===t?void 0:t.email)?null===t||void 0===t?void 0:t.email:"-",message:(null===t||void 0===t?void 0:t.message)?null===t||void 0===t?void 0:t.message:"-",subject:(null===t||void 0===t?void 0:t.subject)?null===t||void 0===t?void 0:t.subject:"-",ticketNumber:(null===t||void 0===t?void 0:t.ticketNumber)?null===t||void 0===t?void 0:t.ticketNumber:"-",createOn:(null===t||void 0===t?void 0:t.createdAt)?L()(null===t||void 0===t?void 0:t.createdAt).format("DD MMM YYYY"):"-"};e.push(a)})),de(e)}),[ee]);var je={data:se,headers:[{label:"name",key:"name"},{label:"name",key:"email"},{label:"message",key:"message"},{label:"subject",key:"subject"},{label:"ticket number",key:"ticketNumber"},{label:"createOn",key:"createOn"}],filename:"beemz-contact-us.csv"};function me(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.get(y.f.contactUsList,{params:{page:t+1,search:a,limit:U}});case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=Object(k.useQuery)(["contactUsList",a,V],(function(){return me(a,V)}),{keepPreviousData:!0}),Oe=(he.isLoading,he.data),fe=he.refetch;Object(x.useEffect)((function(){Oe&&(te(null===Oe||void 0===Oe?void 0:Oe.data),E(0!=(null===Oe||void 0===Oe?void 0:Oe.metadata.length)?null===Oe||void 0===Oe?void 0:Oe.metadata[0].limit:10)),0!=(null===Oe||void 0===Oe?void 0:Oe.metadata.length)&&1==(null===Oe||void 0===Oe?void 0:Oe.metadata[0].hasMoreData)&&me(a+1),setTimeout((function(){oe(!1)}),1800)}),[Oe]);var ge=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(ee,function(e,t){return"desc"===e?function(e,a){return A(e,a,t)}:function(e,a){return-A(e,a,t)}}(W,K));return Object(z.jsx)(z.Fragment,{children:ie?Object(z.jsx)(N.a,{}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"dashboard_header mb-4",children:[Object(z.jsxs)(d.a,{className:"dashboard_searchbox col-lg-4",children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(C.a,{})}),Object(z.jsx)(b.a,{fullWidth:!0,sx:{flex:1},placeholder:"search username...",onChange:function(e){return q(e.target.value.trim()),void me(a,V)}})]}),Object(z.jsx)(p.a,{direction:"row",className:"d-flex align-items-center",spacing:2,children:Object(z.jsx)(S.a,{title:"export-contact-us",placement:"bottom",children:Object(z.jsx)(j.a,{className:"dashboard_light_bg_icon_btn",children:Object(z.jsx)(M.CSVLink,Object(i.a)(Object(i.a)({},je),{},{children:Object(z.jsx)(D.a,{style:{fontSize:18,color:"#6200ee"}})}))})})})]}),Object(z.jsxs)(m.a,{children:[Object(z.jsx)(v.a,{children:Object(z.jsxs)(h.a,{children:[Object(z.jsx)(_.a,{headLabel:[{id:"name",label:"user name",alignRight:!1},{id:"email",label:"email",alignRight:!1},{id:"ticketNumber",label:"ticket number",alignRight:!1},{id:"createdAt",label:"create on",alignRight:!1},{id:"action",label:"action",alignRight:!1}],rowCount:0!==(null===Oe||void 0===Oe?void 0:Oe.metadata.length)?null===Oe||void 0===Oe?void 0:Oe.metadata[0].total:0,onRequestSort:function(e,t){B(K===t&&"asc"===W?"desc":"asc"),X(t)}}),ge.length>0?Object(z.jsx)(O.a,{children:ge.map((function(e,t){var a;return Object(z.jsxs)(be,{children:[Object(z.jsx)(f.a,{component:"th",scope:"row",children:(null===e||void 0===e?void 0:e.name)||"-"}),Object(z.jsx)(f.a,{component:"th",scope:"row",children:(null===e||void 0===e?void 0:e.email)||"-"}),Object(z.jsx)(f.a,{component:"th",scope:"row",children:(null===e||void 0===e?void 0:e.ticketNumber)||"-"}),Object(z.jsx)(f.a,{component:"th",scope:"row",children:null!==(a=L()(null===e||void 0===e?void 0:e.createdAt).format("DD MMM YYYY"))&&void 0!==a?a:"-"}),Object(z.jsx)(f.a,{children:Object(z.jsx)(p.a,{direction:"row",spacing:3,children:Object(z.jsx)(S.a,{title:"view contact-us details",placement:"bottom",children:Object(z.jsx)(j.a,{className:"theme_button_view",variant:"contained",onClick:function(t){return a=e,void ue(Y.c.general.contactUsView,{state:a});var a},children:"view"})})})})]},t)}))}):Object(z.jsx)(O.a,{children:Object(z.jsx)(s.a,{children:Object(z.jsx)(f.a,{align:"center",colSpan:5,sx:{py:5},children:Object(z.jsx)("span",{className:"app_text_16_semibold",children:"no data found"})})})})]})}),Object(z.jsx)(g.a,{component:"div",rowsPerPageOptions:[10,20,50,100],count:0!=(null===Oe||void 0===Oe?void 0:Oe.metadata.length)?null===Oe||void 0===Oe?void 0:Oe.metadata[0].total:0,rowsPerPage:U,page:a,onPageChange:function(e,t){n(t)},onRowsPerPageChange:function(e){E(parseInt(e.target.value,10)),n(0),setTimeout((function(){fe()}),500)}})]})]})})}}}]);
//# sourceMappingURL=48.3a1a75e6.chunk.js.map