(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[45],{1028:function(e,a,s){"use strict";s.r(a);var t=s(9),i=s(12),n=s.n(i),r=s(21),c=s(5),l=s(1),o=s(19),d=s(902),u=s(298),b=s(59),m=s(25),j=s(46),p=s(23),h=s(33),O=s(53),f=s(357),v=s(32),x=s(917),y=s(0);a.default=function(){var e=Object(l.useState)(["places"]),a=Object(c.a)(e,1)[0],s=Object(l.useState)(""),i=Object(c.a)(s,2),N=i[0],g=i[1],w=Object(l.useState)(""),A=Object(c.a)(w,2),S=A[0],q=A[1],L=Object(j.a)(),_=Object(m.g)(),C=Object(O.b)().enqueueSnackbar,k=Object(m.f)().state,B=Object(l.useState)(),F=Object(c.a)(B,2),T=F[0],W=F[1],z=Object(l.useState)(""),E=Object(c.a)(z,2),I=E[0],J=E[1],P=Object(l.useState)({}),V=Object(c.a)(P,2),D=V[0],H=(V[1],Object(l.useState)()),M=Object(c.a)(H,2),G=M[0],K=M[1],Q=Object(l.useState)(),X=Object(c.a)(Q,2),Y=X[0],Z=X[1];Object(l.useEffect)((function(){var e,a;g(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.userId),q(null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.businessId)}),[k]);var R=o.d().shape({name:o.e().min(2,"business name can set of between 2 and 50 characters!").max(50,"business name can set of between 2 and 50 characters!").required("business name is required"),description:o.e().min(2,"user description can set of between 2 and 255 characters!").max(255,"user description can set of between 2 and 255 characters!").required("user description is required"),physicalAddress:o.e().min(2,"physical address can set of between 2 and 255 characters!").max(255,"physical address can set of between 2 and 255 characters!").required("physical address is required"),businessLocationName:o.e().min(2,"business location name can set of between 2 and 255 characters!").max(255,"business location name can set of between 2 and 255 characters!").required("business location name is required"),email:o.e().email("email must be a valid email address").required("email is required"),mobile:o.e().min(11,"enter valid mobile number").max(14,"enter valid mobile number").required("mobile is required")}),U=Object(b.e)({initialValues:{name:"",description:"",physicalAddress:"",businessLocationName:"",email:"",mobile:""},validationSchema:R,onSubmit:function(){var e=Object(r.a)(n.a.mark((function e(a,s){var t,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.resetForm,s.setFieldError,t=s.setSubmitting,i={businessId:S,userId:N,description:a.description,businessName:a.name,physicalAddress:a.physicalAddress,longitude:Y,latitude:G,email:a.email,mobile:"+"+a.mobile,businessLocationName:a.businessLocationName},e.next=4,$(i);case 4:t(!1);case 5:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}()}),$=Object(h.useMutation)(function(){var e=Object(r.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post(p.b.addBusinessAddress,JSON.stringify(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{onSuccess:function(e){e.data;C("business address add successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),_(v.c.general.users)},onError:function(e){var a,s,t,i,n=e.response.data.errors;(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)&&C(null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3});Object.keys(n).forEach((function(e){ie("businessName"===e?"name":"businessLocationName"===e?"businessLocationName":"physicalAddress"===e?"physicalAddress":"description"===e?"description":"email"===e?"email":"mobile"===e?"mobile":e,n[e])}))}}).mutateAsync,ee=U.errors,ae=U.touched,se=U.setFieldValue,te=U.handleSubmit,ie=U.setFieldError,ne=U.getFieldProps;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(b.d,{value:U,children:Object(y.jsx)(b.c,{autoComplete:"off",noValidate:!0,onSubmit:te,children:Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("div",{className:"user_edit_header",children:Object(y.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"add business address"})}),Object(y.jsx)("div",{className:"d-flex mt-4",children:Object(y.jsx)(d.a,Object(t.a)(Object(t.a)({label:"business name",varient:"outlined",fullWidth:!0,autoComplete:"off"},ne("name")),{},{error:Boolean(ae.name&&ee.name),helperText:ae.name&&ee.name}))}),Object(y.jsxs)("div",{className:"d-flex row mt-4",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(b.a,{customeName:"mobile",name:"mobile",label:"mobile number",errors:ee.mobile,component:f.a,data:""})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(d.a,Object(t.a)(Object(t.a)({label:"email",type:"email",autoComplete:"off",fullWidth:!0,variant:"outlined"},ne("email")),{},{error:Boolean(ae.email&&ee.email),helperText:ae.email&&ee.email}))})]}),Object(y.jsx)("div",{className:"d-flex row mt-4",children:Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(d.a,Object(t.a)(Object(t.a)({label:"location name",type:"text",autoComplete:"off",fullWidth:!0,variant:"outlined"},ne("businessLocationName")),{},{error:Boolean(ae.businessLocationName&&ee.businessLocationName),helperText:ae.businessLocationName&&ee.businessLocationName}))})}),Object(y.jsx)("div",{className:"d-flex mt-4",children:Object(y.jsx)(d.a,Object(t.a)(Object(t.a)({label:"description",varient:"outlined",fullWidth:!0,autoComplete:"off"},ne("description")),{},{error:Boolean(ae.description&&ee.description),helperText:ae.description&&ee.description}))}),Object(y.jsx)("div",{className:"d-flex mt-4 w-100",children:Object(y.jsx)(x.d,{googleMapsApiKey:"AIzaSyCI-T5kfFDaBGWiLZPAJXzbQa9v7miTYuE",libraries:a,children:Object(y.jsx)(x.a,{className:"w-100",onLoad:function(e){W(e)},onPlaceChanged:function(){if(null!==T){var e=T.getPlace();D.lat=e.geometry.location.lat(),D.lng=e.geometry.location.lng(),D.address=e.vicinity,se("physicalAddress",e.vicinity),J(e.vicinity),Z(D.lng),K(D.lat)}},children:Object(y.jsx)(d.a,Object(t.a)(Object(t.a)({fullWidth:!0,defaultValue:I,onChange:function(e){J(e.target.value)},variant:"outlined",label:"physical address"},ne("physicalAddress")),{},{error:Boolean(ae.physicalAddress&&ee.physicalAddress),helperText:ae.physicalAddress&&ee.physicalAddress}))})})})]})}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)("div",{className:"col-md-8 m-auto",children:Object(y.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",className:"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg",children:"add business address"})})})]})})})})}}}]);
//# sourceMappingURL=45.b6b28faa.chunk.js.map