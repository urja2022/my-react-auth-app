(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[55],{1032:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(12),c=a.n(n),r=a(21),i=a(5),s=a(1),l=a(741),u=a(862),o=a(863),d=a(864),j=a(865),b=a(742),h=a(7),O=a(33),p=a(23),f=a(89),m=a(46),g=a(852),x=a(53),v=a(52),w=a(35),y=a.n(w),_=a(298),S=a(34),k=a(31),D=a(0);a(65);function N(){var e,t,a=Object(s.useState)([]),n=Object(i.a)(a,2),w=n[0],N=n[1],R=Object(s.useState)(0),q=Object(i.a)(R,2),F=q[0],z=(q[1],Object(s.useState)(5)),C=Object(i.a)(z,2),L=C[0],M=C[1],Y=Object(s.useState)("asc"),A=Object(i.a)(Y,2),H=A[0],J=A[1],T=Object(s.useState)("name"),E=Object(i.a)(T,2),I=E[0],P=E[1],Q=Object(s.useState)(""),U=Object(i.a)(Q,2),B=U[0],G=(U[1],Object(S.c)((function(e){return e.permissions}))),K=Object(m.a)(),V=Object(x.b)().enqueueSnackbar,W=Object(s.useState)(!0),X=Object(i.a)(W,2),Z=X[0],$=X[1],ee=Object(h.a)(l.a)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#ffffff"},"&:nth-of-type(even)":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7"},"& td, & th":{border:0}}}));function te(){return(te=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get(p.n.userDocList,{params:{search:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=Object(O.useQuery)(["userDocList",B],(function(){return function(e){return te.apply(this,arguments)}(B)}),{keepPreviousData:!0}),ne=ae.isLoading,ce=ae.data,re=ae.refetch;Object(s.useEffect)((function(){ce&&(N(ce.data?[]:ce),M(10)),setTimeout((function(){$(!1)}),1800)}),[ce]);var ie=F>0?Math.max(0,(1+F)*L-(null===ce||void 0===ce||null===(e=ce.data)||void 0===e?void 0:e.length)):0;if(ne)return Object(D.jsx)(v.a,{});function se(){return(se=Object(r.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.put(p.n.updateUserRequest,{result:t,userId:a});case 2:200==e.sent.status?V("status change successfully ",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}):V("something went wrong",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),re();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e,t){!function(e,t){se.apply(this,arguments)}(e,t)};return Object(D.jsx)(D.Fragment,{children:Z?Object(D.jsx)(v.a,{}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h4",{className:"app_text_20_semibold mb-0 d-flex align-items-center",children:"user request"}),Object(D.jsx)("div",{className:"dashboard_header mb-4"}),Object(D.jsx)(u.a,{children:Object(D.jsx)(o.a,{children:Object(D.jsxs)(d.a,{children:[Object(D.jsx)(f.a,{headLabel:[{id:"fullName",label:"name",alignRight:!1},{id:"email",label:"email",alignRight:!1},{id:"document type",label:"document type",alignRight:!1},{id:"createdAt",label:"date",alignRight:!1},{id:"action",label:"action",alignRight:!1}],rowCount:null===ce||void 0===ce||null===(t=ce.data)||void 0===t?void 0:t.length,onRequestSort:function(e,t){J(I===t&&"asc"===H?"desc":"asc"),P(t)}}),w.length>0?Object(D.jsxs)(j.a,{children:[0!=w.length&&(null===w||void 0===w?void 0:w.map((function(e){var t;return Object(D.jsxs)(ee,{children:[Object(D.jsx)(b.a,{component:"th",scope:"row",children:e.fullName}),Object(D.jsxs)(b.a,{align:"left",children:[" ",e.email]}),Object(D.jsxs)(b.a,{align:"left",children:[" ",e.document.docType]}),Object(D.jsxs)(b.a,{align:"left",children:[" ",y()(e.createdAt).format("MMM DD YYYY h:mm A")]}),Object(D.jsx)(b.a,{children:Object(D.jsx)(g.a,{direction:"row",spacing:3,children:"1"==(null===G||void 0===G||null===(t=G.users)||void 0===t?void 0:t.substring(3,4))?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{title:"accept user request",placement:"bottom",children:Object(D.jsx)(_.a,{className:"theme_button",variant:"contained",onClick:function(t){return le(1,e._id)},children:"accept"})}),Object(D.jsx)(k.a,{title:"reject user request",placement:"bottom",children:Object(D.jsx)(_.a,{className:"invalid_button",variant:"contained",onClick:function(t){return le(0,e._id)},children:"reject"})})]}):""})})]},e._id)}))),ie>0&&Object(D.jsx)(l.a,{style:{height:53*ie},children:Object(D.jsx)(b.a,{colSpan:6})})]}):Object(D.jsx)(j.a,{children:Object(D.jsx)(l.a,{children:Object(D.jsx)(b.a,{align:"center",colSpan:4,sx:{py:5},children:Object(D.jsx)("span",{className:"app_text_16_semibold",children:"no data found"})})})})]})})})]})})}}}]);
//# sourceMappingURL=55.7347b360.chunk.js.map