(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[15],{1016:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(12),s=a.n(r),c=a(21),i=a(5),o=a(298),l=a(902),d=a(19),u=a(1),b=a(358),j=a.n(b),m=a(920),p=a(33),h=a(885),O=a(894),f=a(749),v=a(893),x=a(879),g=a(46),y=a(23),C=a(59),N=a(53),_=a(32),w=a(25),S=a(34),P=a(921),B=a(0);t.default=function(){var e=Object(u.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],b=Object(u.useState)(null),L=Object(i.a)(b,2),E=L[0],k=L[1],q=Object(u.useState)(null),A=Object(i.a)(q,2),V=A[0],I=A[1],F=Object(u.useState)(null),U=Object(i.a)(F,2),H=U[0],z=U[1],T=Object(u.useState)(),M=Object(i.a)(T,2),R=M[0],W=M[1],D=Object(u.useState)(),J=Object(i.a)(D,2),Z=J[0],K=J[1],Y=Object(u.useState)(),X=Object(i.a)(Y,2),G=X[0],Q=X[1],$=Object(u.useState)(),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(u.useState)(),re=Object(i.a)(ne,2),se=re[0],ce=re[1],ie=Object(u.useState)(""),oe=Object(i.a)(ie,2),le=oe[0],de=oe[1],ue=Object(u.useState)(""),be=Object(i.a)(ue,2),je=be[0],me=be[1],pe=Object(u.useState)(""),he=Object(i.a)(pe,2),Oe=he[0],fe=he[1],ve=Object(S.c)((function(e){return e.businessId})),xe=Object(g.a)(),ge=Object(u.useState)([]),ye=Object(i.a)(ge,2),Ce=ye[0],Ne=ye[1],_e=Object(N.b)().enqueueSnackbar,we=Object(w.g)();Object(u.useEffect)((function(){xe.get(y.b.categoryList).then((function(e){Ne(e.data)}))}),[]);var Se=function(e){if(e.type.includes("image")){var t=URL.createObjectURL(e);ce(t);var a=new FormData;a.append("image",e),xe.post(y.b.uploadFile,a).then((function(e){ae(e.data.image)})).catch((function(e){var t=e.response.data;Object.keys(t).forEach((function(e){qe("logo",t[e])}))}))}else _e("Accept Only Images.",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3})},Pe=d.d().shape({name:d.e().min(2,"Business Name can set of between 2 and 50 characters!").max(50,"Business Name can set of between 2 and 50 characters!").required("Business Name is required"),email:d.e().email("Email must be a valid email address").required("Email is required"),bio:d.e().max(50,"User Bio can set of between 2 and 50 characters!").required("User Bio is required"),businessStatus:d.e().required("User Status is required"),address:d.e().required("Please Seleact a location"),logo:d.b().required("Business Logo is required"),categories:d.e().required("Categorie is required")}),Be=Object(C.e)({initialValues:{name:"",email:"",bio:"",businessStatus:"",address:"",logo:"",categories:"",remember:!0},validationSchema:Pe,onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.resetForm,a.setFieldError,n=a.setSubmitting,r={categoryId:t.categories,name:t.name,image:te,mobile:"+"+R,email:t.email,address:{name:t.address,longitude:Oe,latitude:je},bio:t.bio,businessStatus:t.businessStatus,secondary:Z?"+"+Z:null,alternative:G?"+"+G:null},Fe(r),n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),Le=Be.errors,Ee=Be.touched,ke=Be.handleSubmit,qe=Be.setFieldError,Ae=Be.setFieldValue,Ve=Be.setFieldTouched,Ie=Be.getFieldProps,Fe=Object(p.useMutation)(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.post(y.b.addBusiness,JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(e){ve(e.data._id),_e("Business Profile Add Completed.",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),we(_.c.general.businessIdVerify)},onError:function(e){var t=e.response.data.errors;Object.keys(t).forEach((function(e){"address.name"===e?qe("address","The Home Address is required"):"mobile"===e?k(t[e]):"alternative"===e?I(t[e]):"secondary"===e?z(t[e]):"message"===e?_e(t[e],{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}):qe(e,t[e])}))}}).mutateAsync;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(C.d,{value:Be,children:Object(B.jsx)(C.c,{autoComplete:"off",noValidate:!0,onSubmit:ke,children:Object(B.jsxs)("div",{className:"container-fluid",children:[Object(B.jsx)("div",{className:"row",children:Object(B.jsxs)("div",{className:"col-lg-11 col-xl-10 col-xxl-8",children:[Object(B.jsx)("h4",{className:"app_text_18_semibold",children:"Create Your Business"}),Object(B.jsx)("h4",{className:"app_text_16 app_text_gray",children:"Complete your profile"}),Object(B.jsxs)("div",{className:"row row-cols-1 g-4 mt-4",children:[Object(B.jsx)("div",{className:"col",children:Object(B.jsxs)("div",{className:"col-md-8",children:[Object(B.jsx)("h4",{className:"app_text_14 app_text_black",children:"Business Logo"}),se?Object(B.jsxs)("div",{className:"d-flex align-items-end mb-2",children:[Object(B.jsx)("div",{className:"img_preview_circle",children:Object(B.jsx)("img",{src:se,alt:"profile"})}),Object(B.jsxs)(o.a,{className:"ms-4 app_bg_primary",variant:"contained",component:"label",children:["Change Logo",Object(B.jsx)("input",{id:"file",name:"logo",hidden:!0,accept:"image/*",onChange:function(e){var t=e.target.files[0];Se(t)},type:"file"})]})]}):Object(B.jsx)("div",{className:"img_preview_container",children:Object(B.jsxs)(o.a,{className:"py-5 app_text_14_500 app_text_gray text-lowercase d-flex flex-column",component:"label",children:[Object(B.jsx)(m.a,{}),Object(B.jsx)("span",{className:"mt-2",children:"Upload photo"}),Object(B.jsx)("input",{id:"file",name:"logo",hidden:!0,accept:"image/*",onChange:function(e){var t=e.target.files[0];Se(t),Be.setFieldValue("logo",t)},type:"file"})]})}),Object(B.jsx)(f.a,{error:!0,children:Ee.logo&&Le.logo})]})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsxs)(v.a,{fullWidth:!0,children:[Object(B.jsx)(h.a,{id:"businessCat",children:"Business Categories"}),Object(B.jsx)(x.a,{labelId:"businessCat",name:"categories",value:le,label:"Business Categories",onChange:function(e){!function(e){de(e.target.value)}(e),Ve("categories",!0),Ae("categories",e.target.value)},children:Ce.map((function(e){return Object(B.jsx)(O.a,{value:e._id,children:e.name},e._id)}))}),Object(B.jsx)(f.a,{error:!0,children:Le.categories})]})})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(l.a,Object(n.a)(Object(n.a)({id:"businessname",label:"Business Name",varient:"outlined",fullWidth:!0},Ie("name")),{},{error:Boolean(Ee.name&&Le.name),helperText:Ee.name&&Le.name}))})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsxs)("div",{className:"col-md-8",children:[Object(B.jsx)(j.a,{inputProps:{style:{width:"100%"},name:"phone1",required:!0,onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}},isValid:function(e,t){return a&&t.countryCode===e?(k((function(e){return"Please enter a number"})),!1):(k(null),!0)},country:"au",specialLabel:"Enter Your Phone Number",onChange:function(e){return W(e)}}),Object(B.jsx)(f.a,{error:!!E,children:E})]})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(l.a,Object(n.a)(Object(n.a)({id:"profileEmail",label:"Email",type:"email",autoComplete:"off",fullWidth:!0,variant:"outlined"},Ie("email")),{},{error:Boolean(Ee.email&&Le.email),helperText:Ee.email&&Le.email}))})}),Object(B.jsxs)("div",{className:"col",children:[Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(l.a,Object(n.a)(Object(n.a)({fullWidth:!0,disabled:!0,variant:"outlined",label:"Address"},Ie("address")),{},{error:Boolean(Ee.address&&Le.address),helperText:Ee.address&&Le.address}))}),Object(B.jsx)("div",{className:"col-md-8 my-2 d-flex justify-content-center",children:Object(B.jsx)("span",{className:"app_text_gray",children:"- OR -"})}),Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(o.a,{onClick:function(){return document.getElementById("locationPopup").classList.add("show"),document.body.style.overflow="hidden",void(document.body.style.paddingRight="0px")},fullWidth:!0,className:"text-lowercase app_btn_lg",variant:"outlined",children:"Select Address From Map"})})]}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(l.a,Object(n.a)(Object(n.a)({multiline:!0,rows:3,fullWidth:!0,variant:"outlined",label:"User Bio (Max 200 Character)"},Ie("bio")),{},{error:Boolean(Ee.bio&&Le.bio),helperText:Ee.bio&&Le.bio}))})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(l.a,Object(n.a)(Object(n.a)({fullWidth:!0,variant:"outlined",label:"User Status"},Ie("businessStatus")),{},{error:Boolean(Ee.businessStatus&&Le.businessStatus),helperText:Ee.businessStatus&&Le.businessStatus}))})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("h4",{className:"app_text_18_semibold",children:"Optional information"})}),Object(B.jsx)("div",{className:"col",children:Object(B.jsxs)("div",{className:"col-md-8",children:[Object(B.jsx)(j.a,{inputProps:{style:{width:"100%"},name:"phoneSecondary1",required:!0},country:"au",specialLabel:"Secondary Phone Number",onChange:function(e){return K(e)}}),Object(B.jsx)(f.a,{error:!!H,children:H})]})}),Object(B.jsxs)("div",{className:"col",children:[Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(j.a,{inputProps:{style:{width:"100%"},name:"phoneAlternate",required:!0},country:"au",onChange:function(e){return Q(e)},specialLabel:"Alternative Phone Number"})}),Object(B.jsx)(f.a,{error:!!V,children:V})]}),Object(B.jsx)("div",{className:"col",children:Object(B.jsx)("div",{className:"col-md-8",children:Object(B.jsx)(o.a,{type:"submit",fullWidth:!0,variant:"contained",className:"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg",children:"Create Business"})})})]})]})}),Object(B.jsx)(P.a,{addressData:function(e){Ae("address",e.address),me(e.lat),fe(e.lng)}})]})})})})}},916:function(e,t,a){"use strict";var n=a(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(37)),s=a(0),c=(0,r.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");t.default=c},918:function(e,t,a){"use strict";var n=a(12);a(508);function r(e,t,a,n,r,s,c){try{var i=e[s](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var c=e.apply(t,a);function i(e){r(c,n,s,i,o,"next",e)}function o(e){r(c,n,s,i,o,"throw",e)}i(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=!1,i=null,o="en",l=null,d=null,u="https://maps.googleapis.com/maps/api/geocode/json";function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c&&(t?console.warn(e):console.log(e))}function j(e){return m.apply(this,arguments)}function m(){return(m=s(n.mark((function e(t){var a,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch((function(){return Promise.reject(new Error("Error fetching data"))}));case 2:return a=e.sent,e.next=5,a.json().catch((function(){return b("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))}));case 5:if("OK"!==(r=e.sent).status){e.next=9;break}return b(r),e.abrupt("return",r);case 9:return b("".concat(r.error_message,".\nServer returned status code ").concat(r.status),!0),e.abrupt("return",Promise.reject(new Error("".concat(r.error_message,".\nServer returned status code ").concat(r.status))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p={setApiKey:function(e){i=e},setLanguage:function(e){o=e},setRegion:function(e){l=e},setLocationType:function(e){d=e},enableDebug:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c=e},fromLatLng:function(e,t,a,r,c,m){return s(n.mark((function s(){var p,h;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=3;break}return b("Provided coordinates are invalid",!0),n.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return p="".concat(e,",").concat(t),h="".concat(u,"?latlng=").concat(encodeURIComponent(p)),(a||i)&&(h+="&key=".concat(i=a||i)),(r||o)&&(h+="&language=".concat(o=r||o)),(c||l)&&(l=c||l,h+="&region=".concat(encodeURIComponent(l))),(m||d)&&(d=m||d,h+="&location_type=".concat(encodeURIComponent(d))),n.abrupt("return",j(h));case 9:case"end":return n.stop()}}),s)})))()},fromAddress:function(e,t,a,r){return s(n.mark((function s(){var c;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return b("Provided address is invalid",!0),n.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return c="".concat(u,"?address=").concat(encodeURIComponent(e)),(t||i)&&(c+="&key=".concat(i=t||i)),(a||o)&&(c+="&language=".concat(o=a||o)),(r||l)&&(l=r||l,c+="&region=".concat(encodeURIComponent(l))),n.abrupt("return",j(c));case 8:case"end":return n.stop()}}),s)})))()}};t.default=p},920:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.008 3C21.556 3 22 3.445 22 3.993V13.342C21.3576 13.1151 20.6813 12.9994 20 13V5H4L4.001 19L13.293 9.707C13.465 9.53448 13.694 9.43073 13.9371 9.41526C14.1802 9.39979 14.4206 9.47367 14.613 9.623L14.706 9.708L18.252 13.258C17.4766 13.4943 16.7572 13.8851 16.1369 14.407C15.5167 14.9288 15.0086 15.5709 14.6432 16.2944C14.2779 17.0179 14.0628 17.808 14.0111 18.6169C13.9593 19.4258 14.0719 20.2368 14.342 21.001L2.992 21C2.72881 20.9997 2.4765 20.895 2.29049 20.7088C2.10448 20.5226 2 20.2702 2 20.007V3.993C2.00183 3.73038 2.1069 3.47902 2.29251 3.29322C2.47813 3.10742 2.72938 3.00209 2.992 3H21.008ZM8 7C8.53043 7 9.03914 7.21071 9.41421 7.58579C9.78929 7.96086 10 8.46957 10 9C10 9.53043 9.78929 10.0391 9.41421 10.4142C9.03914 10.7893 8.53043 11 8 11C7.46957 11 6.96086 10.7893 6.58579 10.4142C6.21071 10.0391 6 9.53043 6 9C6 8.46957 6.21071 7.96086 6.58579 7.58579C6.96086 7.21071 7.46957 7 8 7Z",fill:"#97A8BE"})})}},921:function(e,t,a){"use strict";var n=a(5),r=a(1),s=a(916),c=a.n(s),i=a(298),o=a(917),l=(a(918),a(0));t.a=function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),s=a[0],d=a[1],u=Object(r.useState)(),b=Object(n.a)(u,2),j=b[0],m=b[1];return Object(l.jsx)("section",{id:"locationPopup",className:"location_popup_overlay",children:Object(l.jsxs)("div",{className:"container position-relative",children:[Object(l.jsx)(i.a,{onClick:function(){return document.getElementById("locationPopup").classList.remove("show"),void document.body.removeAttribute("style")},className:"app_blank_btn popup_close_btn",variant:"outlined",children:Object(l.jsx)(c.a,{})}),Object(l.jsx)("div",{className:"location_box",children:Object(l.jsx)("div",{className:"location_map",children:Object(l.jsx)(o.d,{googleMapsApiKey:"AIzaSyCI-T5kfFDaBGWiLZPAJXzbQa9v7miTYuE",id:"script-loader",children:Object(l.jsx)(o.b,{mapContainerClassName:"w-100 h-100",options:{streetViewControl:!1,scaleControl:!0,mapTypeControl:!1,panControl:!1,zoomControl:!0,rotateControl:!1},keyboardShortcuts:!1,draggable:!0,zoom:5,center:{lat:-14.306030397015958,lng:-59.62628605787748},onClick:function(t){return function(t){var a=t.latLng.lat().toString(),n=t.latLng.lng().toString();m(n),d(a),e.addressData({lat:a,lng:n,address:"Abc Xyz"})}(t)},children:Object(l.jsx)(o.e,{position:{lat:Number(s),lng:Number(j)}},"Location 1")})})})})]})})}}}]);
//# sourceMappingURL=15.737419be.chunk.js.map