(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[40],{1013:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return ae}));var s=t(9),l=t(12),c=t.n(l),i=t(21),n=t(5),r=t(1),d=t(741),o=t(862),b=t(863),u=t(864),j=t(865),m=t(742),h=t(869),v=t(884),O=t(881),p=t(910),g=t(750),x=t(896),f=t(7),_=t(915),N=t.n(_),y=t(135),S=t.n(y),k=t(33),w=t(23),A=t(89),C=t(46),z=t(356),P=t(852),R=t(299),I=t(300),F=t(68),L=t(298),V=t(891),W=t(738),q=t(902),E=t(893),D=t(885),H=t(879),M=t(69),T=t(59),J=t(19),B=t(53),Q=t(95),U=t.n(Q),$=t(52),G=t(34),K=t(31),X=t(90),Y=t(91),Z=t.n(Y),ee=t(0);t(65);function ae(){var e,a,t,l,_=Object(r.useState)(0),y=Object(n.a)(_,2),Q=y[0],Y=y[1],ae=Object(r.useState)(""),te=Object(n.a)(ae,2),se=te[0],le=te[1],ce=Object(r.useState)(10),ie=Object(n.a)(ce,2),ne=ie[0],re=ie[1],de=Object(r.useState)("asc"),oe=Object(n.a)(de,2),be=oe[0],ue=oe[1],je=Object(r.useState)("name"),me=Object(n.a)(je,2),he=me[0],ve=me[1],Oe=Object(r.useState)(""),pe=Object(n.a)(Oe,2),ge=pe[0],xe=pe[1],fe=Object(r.useState)([]),_e=Object(n.a)(fe,2),Ne=_e[0],ye=_e[1],Se=Object(r.useState)(!1),ke=Object(n.a)(Se,2),we=ke[0],Ae=ke[1],Ce=Object(r.useState)("1"),ze=Object(n.a)(Ce,2),Pe=ze[0],Re=ze[1],Ie=Object(r.useState)("1"),Fe=Object(n.a)(Ie,2),Le=Fe[0],Ve=Fe[1],We=Object(r.useState)("1"),qe=Object(n.a)(We,2),Ee=qe[0],De=qe[1],He=Object(r.useState)("1"),Me=Object(n.a)(He,2),Te=Me[0],Je=Me[1],Be=Object(r.useState)([]),Qe=Object(n.a)(Be,2),Ue=Qe[0],$e=Qe[1],Ge=Object(G.c)((function(e){return e.permissions})),Ke=Object(C.a)(),Xe=Object(B.b)().enqueueSnackbar,Ye=Object(r.useState)(!0),Ze=Object(n.a)(Ye,2),ea=Ze[0],aa=Ze[1],ta=Object(r.useState)(""),sa=Object(n.a)(ta,2),la=sa[0],ca=sa[1];Object(r.useEffect)((function(){var e=[];Ne.map((function(a){var t={name:(null===a||void 0===a?void 0:a.name)?null===a||void 0===a?void 0:a.name:"-",idNumber:(null===a||void 0===a?void 0:a.idNumber)?null===a||void 0===a?void 0:a.idNumber:"-",image:1==(null===a||void 0===a?void 0:a.image)?"Pending":2==(null===a||void 0===a?void 0:a.image)?"Invalid":"Accept",reference:1==(null===a||void 0===a?void 0:a.reference)?"Pending":2==(null===a||void 0===a?void 0:a.reference)?"Invalid":"Accept",homeAddress:1==(null===a||void 0===a?void 0:a.homeAddress)?"Pending":2==(null===a||void 0===a?void 0:a.homeAddress)?"Invalid":"Accept",star:(null===a||void 0===a?void 0:a.star)?null===a||void 0===a?void 0:a.star:0,message:(null===a||void 0===a?void 0:a.message)?null===a||void 0===a?void 0:a.message:0,isActive:(null===a||void 0===a?void 0:a.isActive)?"Active":"In-active"};e.push(t)})),$e(e)}),[Ne]);var ia={data:Ue,headers:[{label:"name",key:"name"},{label:"idNumber",key:"idNumber"},{label:"image",key:"image"},{label:"reference",key:"reference"},{label:"homeAddress",key:"homeAddress"},{label:"star",key:"star"},{label:"message",key:"message"},{label:"isActive",key:"isActive"}],filename:"beemz-trust-level.csv"};function na(e,a){return ra.apply(this,arguments)}function ra(){return(ra=Object(i.a)(c.a.mark((function e(a,t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.get(w.n.trustLevelList,{params:{type:"1",page:a+1,search:t,limit:ne}});case 2:return s=e.sent,e.abrupt("return",s.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var da=Object(k.useQuery)(["trustLevelList",Q,ge],(function(){return na(Q,ge)}),{keepPreviousData:!0}),oa=da.isLoading,ba=da.data,ua=da.refetch;Object(r.useEffect)((function(){ba&&(ye(null===ba||void 0===ba?void 0:ba.data),re((null===ba||void 0===ba?void 0:ba.metadata)&&0!==(null===ba||void 0===ba?void 0:ba.metadata.length)?null===ba||void 0===ba?void 0:ba.metadata[0].limit:10)),(null===ba||void 0===ba?void 0:ba.metadata)&&0!=(null===ba||void 0===ba?void 0:ba.metadata.length)&&1==(null===ba||void 0===ba?void 0:ba.metadata[0].hasMoreData)&&na(Q+1),setTimeout((function(){aa(!1)}),1800)}),[ba]);var ja=Object(f.a)(d.a)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#ffffff"},"&:nth-of-type(even)":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7"},"& td, & th":{border:0}}})),ma=(Q>0&&Math.max(0,(1+Q)*ne-(null===ba||void 0===ba?void 0:ba.metadata[0].total)),Ne),ha=0===(null===ma||void 0===ma?void 0:ma.length),va=J.d().shape({name:J.e().min(2,"name can set of between 2 and 50 characters!").max(50,"name can set of between 2 and 50 characters!").required("name is required"),message:J.e().min(4,"message can set of between 4 and 255 characters!").max(255,"message can set of between 4 and 255 characters!").required("message is required"),star:J.e().required("star is required").matches(/^([0-5])$/g,"enter only 0 to 5")}),Oa=Object(T.e)({initialValues:{name:""},validationSchema:va,onSubmit:function(){var e=Object(i.a)(c.a.mark((function e(a,t){var s,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.resetForm,t.setFieldError,l=t.setSubmitting,i={name:a.name,image:Pe,idNumber:Le,reference:Ee,homeAddress:Te,message:a.message,star:a.star},""!=la){e.next=7;break}return e.next=5,ga(i);case 5:e.next=9;break;case 7:return e.next=9,pa(i);case 9:s(),l(!1);case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),pa=Object(k.useMutation)(function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.put(w.n.trustLevelUpdate+la,JSON.stringify(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{onSuccess:function(e){e.data;ua(),Xe("trust leval update successfully ",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),ya()},onError:function(e){var a,t,s,l,c=e.response.data.errors;(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)&&Xe(null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3});Object.keys(c).forEach((function(e){Ca("name"===e?"name":"message"===e?"message":"star"===e?"star":e,c[e])}))}}).mutateAsync,ga=Object(k.useMutation)(function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.post(w.n.trustLevelAdd,JSON.stringify(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{onSuccess:function(e){e.data;ua(),Xe("trust leval add successfully ",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),ya()},onError:function(e){var a,t,s,l,c=e.response.data.errors;(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)&&Xe(null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3});Object.keys(c).forEach((function(e){Ca("name"===e?"name":"message"===e?"message":"star"===e?"star":e,c[e])}))}}).mutateAsync,xa=Object(r.useState)(!1),fa=Object(n.a)(xa,2),_a=fa[0],Na=fa[1],ya=function(){Na(!1)},Sa=Oa.errors,ka=Oa.touched,wa=Oa.setFieldValue,Aa=Oa.handleSubmit,Ca=Oa.setFieldError,za=Oa.getFieldProps;return oa?Object(ee.jsx)($.a,{}):Object(ee.jsx)(ee.Fragment,{children:ea?Object(ee.jsx)($.a,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"dashboard_header mb-4",children:[Object(ee.jsxs)(R.a,{className:"dashboard_searchbox col-lg-4",children:[Object(ee.jsx)(I.a,{children:Object(ee.jsx)(M.a,{})}),Object(ee.jsx)(F.c,{fullWidth:!0,sx:{flex:1},placeholder:"search trust level...",onChange:function(e){return xe(e.target.value.trim()),Y(0),void na(Q,ge)}})]}),Object(ee.jsxs)(P.a,{direction:"row",className:"d-flex align-items-center",spacing:2,children:["1"==(null===Ge||void 0===Ge||null===(e=Ge.trust_level)||void 0===e?void 0:e.substring(1,2))?Object(ee.jsx)(K.a,{title:"add trust level",placement:"bottom",children:Object(ee.jsx)(L.a,{className:"dashboard_light_bg_icon_btn",onClick:function(){wa("name",""),wa("message",""),wa("star",""),Re("1"),Ve("1"),De("1"),Je("1"),Ae(!1),le("add"),ca(""),Na(!0)},children:Object(ee.jsx)(N.a,{style:{fontSize:18,color:"#6200ee"}})})}):"","1"==(null===Ge||void 0===Ge||null===(a=Ge.trust_level)||void 0===a?void 0:a.substring(1,2))?Object(ee.jsx)(K.a,{title:"export trust level",placement:"bottom",children:Object(ee.jsx)(L.a,{className:"dashboard_light_bg_icon_btn",children:Object(ee.jsx)(X.CSVLink,Object(s.a)(Object(s.a)({},ia),{},{children:Object(ee.jsx)(Z.a,{style:{fontSize:18,color:"#6200ee"}})}))})}):"",Object(ee.jsx)(K.a,{title:"refresh",placement:"bottom",children:Object(ee.jsx)(L.a,{className:"dashboard_light_bg_icon_btn",children:Object(ee.jsx)(S.a,{style:{fontSize:18,color:"#6200ee"}})})})]})]}),Object(ee.jsxs)(o.a,{children:[Object(ee.jsx)(b.a,{children:Object(ee.jsxs)(u.a,{children:[Object(ee.jsx)(A.a,{headLabel:[{id:"name",label:"name",alignRight:!1},{id:"idNumber",label:"id number",alignRight:!1},{id:"image",label:"image",alignRight:!1},{id:"reference",label:"reference",alignRight:!1},{id:"homeAddress",label:"home address",alignRight:!1},{id:"star",label:"star",alignRight:!1},{id:"message",label:"message",alignRight:!1},{id:"isActive",label:"enabled",alignRight:!1},{id:"action",label:"action",alignRight:!1}],rowCount:null===ba||void 0===ba||null===(t=ba.data)||void 0===t?void 0:t.length,onRequestSort:function(e,a){ue(he===a&&"asc"===be?"desc":"asc"),ve(a)}}),Object(ee.jsx)(j.a,{children:null===ma||void 0===ma?void 0:ma.map((function(e,a){var t;return Object(ee.jsxs)(ja,{children:[Object(ee.jsx)(m.a,{component:"th",scope:"row",children:e.name}),Object(ee.jsxs)(m.a,{align:"left",children:["  ",1==e.idNumber?Object(ee.jsx)(V.a,{label:"pending",className:"app_status_chip pending"}):2==e.idNumber?Object(ee.jsx)(V.a,{label:"invalid",className:"app_status_chip invalid"}):Object(ee.jsx)(V.a,{label:"accept",className:"app_status_chip accepted"})]}),Object(ee.jsxs)(m.a,{align:"left",children:["   ",1==e.image?Object(ee.jsx)(V.a,{label:"pending",className:"app_status_chip pending"}):2==e.image?Object(ee.jsx)(V.a,{label:"invalid",className:"app_status_chip invalid"}):Object(ee.jsx)(V.a,{label:"accept",className:"app_status_chip accepted"})]}),Object(ee.jsxs)(m.a,{align:"left",children:["  ",1==e.reference?Object(ee.jsx)(V.a,{label:"pending",className:"app_status_chip pending"}):2==e.reference?Object(ee.jsx)(V.a,{label:"invalid",className:"app_status_chip invalid"}):Object(ee.jsx)(V.a,{label:"accept",className:"app_status_chip accepted"})]}),Object(ee.jsxs)(m.a,{align:"left",children:["  ",1==e.homeAddress?Object(ee.jsx)(V.a,{label:"pending",className:"app_status_chip pending"}):2==e.homeAddress?Object(ee.jsx)(V.a,{label:"invalid",className:"app_status_chip invalid"}):Object(ee.jsx)(V.a,{label:"accept",className:"app_status_chip accepted"})]}),Object(ee.jsxs)(m.a,{align:"left",children:["  ",e.star]}),Object(ee.jsxs)(m.a,{align:"left",children:["  ",e.message]}),Object(ee.jsx)(m.a,{align:"left",children:Object(ee.jsx)(g.a,{children:Object(ee.jsx)(x.a,{control:e.isActive?Object(ee.jsx)(h.a,{defaultChecked:!0}):Object(ee.jsx)(h.a,{})})})}),Object(ee.jsx)(m.a,{children:Object(ee.jsx)(P.a,{direction:"row",spacing:3,children:"1"==(null===Ge||void 0===Ge||null===(t=Ge.trust_level)||void 0===t?void 0:t.substring(3,4))?Object(ee.jsx)(K.a,{title:"edit trust leval",placement:"bottom",children:Object(ee.jsx)(L.a,{sx:{"&:hover":{bgcolor:"transparent"}},onClick:function(){return function(e){wa("name",e.name),wa("message",e.message),wa("star",e.star),Re(e.image),Ve(e.idNumber),De(e.reference),Je(e.homeAddress),Ae(!0),ca(e.id),le("update"),Na(!0)}(e)},variant:"text",className:"user_list_row_btn",children:Object(ee.jsx)(z.a,{})})}):""})})]},a)}))}),ha&&Object(ee.jsx)(j.a,{children:Object(ee.jsx)(d.a,{children:Object(ee.jsx)(m.a,{align:"center",colSpan:9,sx:{py:3},children:Object(ee.jsx)("span",{className:"app_text_16_semibold",children:"no data found"})})})})]})}),Object(ee.jsx)(v.a,{component:"div",rowsPerPageOptions:[10,20,50,100],count:(null===ba||void 0===ba?void 0:ba.metadata)&&0!==(null===ba||void 0===ba||null===(l=ba.metadata)||void 0===l?void 0:l.length)?null===ba||void 0===ba?void 0:ba.metadata[0].total:0,rowsPerPage:ne,page:Q,onPageChange:function(e,a){Y(a)},onRowsPerPageChange:function(e){re(parseInt(e.target.value,10)),Y(0),setTimeout((function(){ua()}),500)}})]}),Object(ee.jsx)(O.a,{open:_a,onClose:ya,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:Object(ee.jsxs)(W.a,{className:"modal_card modal_lg db_trust_level_modal_box",children:[Object(ee.jsxs)("div",{className:"modal_card_header",children:[Object(ee.jsx)("div",{className:"left_part",children:Object(ee.jsx)("h4",{children:se})}),Object(ee.jsx)("div",{className:"right_part",children:Object(ee.jsx)(L.a,{className:"dashboard_light_bg_icon_btn",onClick:ya,"aria-label":"delete",children:Object(ee.jsx)(U.a,{})})})]}),Object(ee.jsx)("div",{className:"modal_card_body",children:Object(ee.jsx)(T.d,{value:Oa,children:Object(ee.jsxs)(T.c,{autoComplete:"off",noValidate:!0,onSubmit:Aa,children:[Object(ee.jsxs)("div",{className:"row",children:[Object(ee.jsx)("div",{className:"col-12",children:Object(ee.jsx)("div",{className:"user_edit_header mb-4",children:Object(ee.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"trust level information"})})}),Object(ee.jsx)("div",{className:"col-lg-9",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsx)(q.a,Object(s.a)(Object(s.a)({label:"name",autoComplete:"off",fullWidth:!0,variant:"outlined"},za("name")),{},{error:Boolean(ka.name&&Sa.name),helperText:ka.name&&Sa.name}))})}),Object(ee.jsx)("div",{className:"col-lg-3",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsx)(q.a,Object(s.a)(Object(s.a)({label:"star",type:"number",autoComplete:"off",fullWidth:!0,variant:"outlined"},za("star")),{},{error:Boolean(ka.star&&Sa.star),helperText:ka.star&&Sa.star}))})}),Object(ee.jsx)("div",{className:"col-lg-3",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsxs)(E.a,{fullWidth:!0,children:[Object(ee.jsx)(D.a,{id:"demo-simple-select-label",children:"image"}),Object(ee.jsxs)(H.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Image",disabled:we,defaultValue:Pe,onChange:function(e){return Re(e.target.value)},children:[Object(ee.jsx)(p.a,{value:"1",children:" pending"}),Object(ee.jsx)(p.a,{value:"2",children:" invalid"}),Object(ee.jsx)(p.a,{value:"3",children:" accept"})]})]})})}),Object(ee.jsx)("div",{className:"col-lg-3",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsxs)(E.a,{fullWidth:!0,children:[Object(ee.jsx)(D.a,{id:"demo-simple-select-label",children:"id number"}),Object(ee.jsxs)(H.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Id Number",disabled:we,defaultValue:Le,onChange:function(e){return Ve(e.target.value)},children:[Object(ee.jsx)(p.a,{value:"1",children:" pending"}),Object(ee.jsx)(p.a,{value:"2",children:" invalid"}),Object(ee.jsx)(p.a,{value:"3",children:" accept"})]})]})})}),Object(ee.jsx)("div",{className:"col-lg-3",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsxs)(E.a,{fullWidth:!0,children:[Object(ee.jsx)(D.a,{id:"demo-simple-select-label",children:"reference"}),Object(ee.jsxs)(H.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Reference",disabled:we,defaultValue:Ee,onChange:function(e){return De(e.target.value)},children:[Object(ee.jsx)(p.a,{value:"1",children:" pending"}),Object(ee.jsx)(p.a,{value:"2",children:" invalid"}),Object(ee.jsx)(p.a,{value:"3",children:" accept"})]})]})})}),Object(ee.jsx)("div",{className:"col-lg-3",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsxs)(E.a,{fullWidth:!0,children:[Object(ee.jsx)(D.a,{id:"demo-simple-select-label",children:"home address"}),Object(ee.jsxs)(H.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Home Address",disabled:we,defaultValue:Te,onChange:function(e){return Je(e.target.value)},children:[Object(ee.jsx)(p.a,{value:"1",children:" pending"}),Object(ee.jsx)(p.a,{value:"2",children:" invalid"}),Object(ee.jsx)(p.a,{value:"3",children:" accept"})]})]})})}),Object(ee.jsx)("div",{className:"col-lg-12",children:Object(ee.jsx)("div",{className:"form-group mb-4",children:Object(ee.jsx)(q.a,Object(s.a)(Object(s.a)({label:"message",autoComplete:"off",fullWidth:!0,variant:"outlined"},za("message")),{},{error:Boolean(ka.message&&Sa.message),helperText:ka.message&&Sa.message}))})})]}),Object(ee.jsx)("div",{className:"col",children:Object(ee.jsx)("div",{className:"col-md-8 m-auto",children:Object(ee.jsx)(L.a,{type:"submit",fullWidth:!0,variant:"contained",className:"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg",children:"submit"})})})]})})}),Object(ee.jsx)("div",{className:"modal_card_footer"})]})})]})})}},915:function(e,a,t){"use strict";var s=t(36);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=s(t(37)),c=t(0),i=(0,l.default)((0,c.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineOutlined");a.default=i}}]);
//# sourceMappingURL=40.e1c3346a.chunk.js.map