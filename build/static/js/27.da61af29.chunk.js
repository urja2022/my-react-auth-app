(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[27],{1062:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(12),l=a.n(i),o=a(21),c=a(5),s=a(497),r=a(741),d=a(140),u=a(2),j=a(1),b=a(756),v=a(856);var h=a(743),O=a(744),f=a(507),m=a(854),p=a(862),g=a(863),x=a(864),w=a(865),C=a(742),k=a(884),L=a(1057),_=a(1023),S=a(1024),y=a(1025),M=a(852),N=a(31),H=a(69),D=a(91),P=a.n(D),R=a(135),V=a.n(R),z=a(90),F=a(89),Z=a(23),Y=a(46),A=a(33),E=a(52),I=a(35),q=a.n(I),B=a(914),J=a(53),Q=(a(953),a(32)),T=a(25),U=a(359),W=a.n(U),G=a(34),K=a(0);function X(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var $=Object(s.a)(r.a)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#ffffff"},"&:nth-of-type(even)":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7"},"& td, & th":{border:0}}}));t.default=function(){var e,t=Object(j.useState)(),a=Object(c.a)(t,2),i=a[0],s=a[1],D=Object(j.useState)(0),R=Object(c.a)(D,2),I=R[0],U=R[1],ee=Object(j.useState)(10),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],ie=Object(j.useState)("asc"),le=Object(c.a)(ie,2),oe=le[0],ce=le[1],se=Object(j.useState)("name"),re=Object(c.a)(se,2),de=re[0],ue=re[1],je=Object(j.useState)(),be=Object(c.a)(je,2),ve=be[0],he=be[1],Oe=Object(j.useState)(!0),fe=Object(c.a)(Oe,2),me=(fe[0],fe[1]),pe=Object(j.useState)(),ge=Object(c.a)(pe,2),xe=ge[0],we=ge[1],Ce=Object(j.useState)(),ke=Object(c.a)(Ce,2),Le=ke[0],_e=ke[1],Se=Object(j.useState)(!1),ye=Object(c.a)(Se,2),Me=ye[0],Ne=ye[1],He=Object(j.useState)(!1),De=Object(c.a)(He,2),Pe=(De[0],De[1],Object(j.useState)()),Re=Object(c.a)(Pe,2),Ve=(Re[0],Re[1],Object(j.useState)()),ze=Object(c.a)(Ve,2),Fe=(ze[0],ze[1],Object(j.useState)([])),Ze=Object(c.a)(Fe,2),Ye=Ze[0],Ae=Ze[1],Ee=Object(j.useState)(),Ie=Object(c.a)(Ee,2),qe=(Ie[0],Ie[1],Object(G.c)((function(e){return e.permissions}))),Be=Object(Y.a)(),Je=Object(d.a)(),Qe=Object(J.b)().enqueueSnackbar,Te=Object(T.g)(),Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(b.a)(),n=Object(v.a)({theme:a,name:"MuiUseMediaQuery",props:{}}),i="function"===typeof e?e(a):e;i=i.replace(/^@media( ?)/m,"");var l="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,o=Object(u.a)({},n,t),c=o.defaultMatches,s=void 0!==c&&c,r=o.matchMedia,d=void 0===r?l?window.matchMedia:null:r,h=o.noSsr,O=void 0!==h&&h,f=o.ssrMatchMedia,m=void 0===f?null:f,p=j.useState((function(){return O&&l?d(i).matches:m?m(i).matches:s})),g=p[0],x=p[1];return j.useEffect((function(){var e=!0;if(l){var t=d(i),a=function(){e&&x(t.matches)};return a(),t.addListener(a),function(){e=!1,t.removeListener(a)}}}),[i,d,l]),g}(Je.breakpoints.down("md"));Object(j.useEffect)((function(){var e=[];null===ve||void 0===ve||ve.map((function(t){var a=new Date(null===t||void 0===t?void 0:t.createdAt).toLocaleString(),n={title:(null===t||void 0===t?void 0:t.title)?null===t||void 0===t?void 0:t.title:"-",description:(null===t||void 0===t?void 0:t.description)?null===t||void 0===t?void 0:t.description:"-",user:(null===t||void 0===t?void 0:t.userName)?null===t||void 0===t?void 0:t.userName:"-",totalLikes:(null===t||void 0===t?void 0:t.totalLikes)?null===t||void 0===t?void 0:t.totalLikes:"-",totalComments:(null===t||void 0===t?void 0:t.totalComments)?null===t||void 0===t?void 0:t.totalComments:"-",date:null!==a&&void 0!==a?a:"-"};e.push(n)})),Ae(e)}),[ve]);var We={data:Ye,headers:[{label:"title",key:"title"},{label:"description",key:"description"},{label:"user",key:"user"},{label:"totalLikes",key:"totalLikes"},{label:"totalLikes",key:"totalLikes"},{label:"totalLikes",key:"totalLikes"},{label:"totalComments",key:"totalComments"},{label:"date",key:"date"}],filename:"beemz-feeds.csv"};function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.get(Z.j.postList,{params:{type:"1",page:t+1,search:a,limit:ae}});case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xe=Object(A.useQuery)(["postList",I,i],(function(){return Ge(I,i)}),{keepPreviousData:!0}),$e=Xe.isLoading,et=Xe.data,tt=Xe.refetch;if(Object(j.useEffect)((function(){et&&(he(null===et||void 0===et?void 0:et.data),ne(0!=(null===et||void 0===et?void 0:et.metadata.length)?null===et||void 0===et?void 0:et.metadata[0].limit:10)),0!=(null===et||void 0===et?void 0:et.metadata.length)&&1==(null===et||void 0===et?void 0:et.metadata[0].hasMoreData)&&Ge(I+1),setTimeout((function(){me(!1)}),1800)}),[et]),$e)return Object(K.jsx)(E.a,{});var at=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}((null===et||void 0===et?void 0:et.data)||[],function(e,t){return"desc"===e?function(e,a){return X(e,a,t)}:function(e,a){return-X(e,a,t)}}(oe,de)),nt=0===at.length,it=function(){Ne(!1)},lt=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.post(Z.j.postDelete+xe,{userId:Le});case 2:200==(t=e.sent).status?Qe(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}):Qe("something went wrong",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),tt(),it();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"dashboard_header mb-4",children:[Object(K.jsxs)(h.a,{className:"dashboard_searchbox col-lg-4",children:[Object(K.jsx)(O.a,{children:Object(K.jsx)(H.a,{})}),Object(K.jsx)(f.a,{fullWidth:!0,sx:{flex:1},placeholder:"search post...",onChange:function(e){return s(e.target.value.trim().replace("+","")),void Ge(0,i)}})]}),Object(K.jsxs)(M.a,{direction:"row",className:"d-flex align-items-center",spacing:2,children:["1"==(null===qe||void 0===qe||null===(e=qe.posts)||void 0===e?void 0:e.substring(1,2))?Object(K.jsx)(N.a,{title:"export feeds",placement:"bottom",children:Object(K.jsx)(m.a,{className:"dashboard_light_bg_icon_btn",children:Object(K.jsx)(z.CSVLink,Object(n.a)(Object(n.a)({},We),{},{children:Object(K.jsx)(P.a,{style:{fontSize:18,color:"#6200ee"}})}))})}):"",Object(K.jsx)(N.a,{title:"refresh",placement:"bottom",children:Object(K.jsx)(m.a,{className:"dashboard_light_bg_icon_btn",children:Object(K.jsx)(V.a,{style:{fontSize:18,color:"#6200ee"}})})})]})]}),Object(K.jsxs)(p.a,{children:[Object(K.jsx)(g.a,{children:Object(K.jsxs)(x.a,{children:[Object(K.jsx)(F.a,{headLabel:[{id:"title",label:"title",alignRight:!1},{id:"description",label:"description",alignRight:!1},{id:"user",label:"user",alignRight:!1},{id:"totalLikes",label:"likes",alignRight:!1},{id:"totalComments",label:"comments",alignRight:!1},{id:"date",label:"posted on",alignRight:!1},{id:"action",label:"action",alignRight:!1}],rowCount:0,onRequestSort:function(e,t){ce(de===t&&"asc"===oe?"desc":"asc"),ue(t)}}),Object(K.jsx)(w.a,{children:at.map((function(e,t){var a,n,i,l,o,c;return Object(K.jsxs)($,{children:[Object(K.jsxs)(C.a,{component:"th",scope:"row",children:[" ",null!==(a=null===e||void 0===e?void 0:e.title)&&void 0!==a?a:"-"]}),Object(K.jsxs)(C.a,{align:"left",children:["  ",null!==(n=null===e||void 0===e?void 0:e.description)&&void 0!==n?n:"-"]}),Object(K.jsxs)(C.a,{align:"left",children:["  ",null!==(i=null===e||void 0===e?void 0:e.userName)&&void 0!==i?i:"-"]}),Object(K.jsxs)(C.a,{align:"left",children:["  ",null!==(l=null===e||void 0===e?void 0:e.totalLikes)&&void 0!==l?l:"-"]}),Object(K.jsxs)(C.a,{align:"left",children:["  ",null!==(o=null===e||void 0===e?void 0:e.totalComments)&&void 0!==o?o:"-"]}),Object(K.jsxs)(C.a,{align:"left",children:["  ",null!==(c=q()(null===e||void 0===e?void 0:e.createdAt).format("DD MMM YYYY"))&&void 0!==c?c:"-"]}),Object(K.jsx)(C.a,{align:"left",children:Object(K.jsxs)(M.a,{Stack:!0,direction:"row",spacing:3,children:[Object(K.jsx)(N.a,{title:"post delete",placement:"bottom",children:Object(K.jsx)(m.a,{variant:"text",className:"user_list_row_btn",onClick:function(){return function(e){we(null===e||void 0===e?void 0:e._id),_e(null===e||void 0===e?void 0:e.userId),Ne(!0)}(e)},children:Object(K.jsx)(B.a,{})})}),Object(K.jsx)(N.a,{title:"feed view",placement:"bottom",children:Object(K.jsx)(m.a,{variant:"text",className:"user_list_row_btn",onClick:function(){return Te(Q.c.general.feedDetail+"/"+(null===e||void 0===e?void 0:e._id))},children:Object(K.jsx)(W.a,{})})})]})})]},t)}))}),nt&&Object(K.jsx)(w.a,{children:Object(K.jsx)(r.a,{children:Object(K.jsx)(C.a,{align:"center",colSpan:8,sx:{py:3},children:Object(K.jsx)("span",{className:"app_text_16_semibold",children:"no data found"})})})})]})}),Object(K.jsx)(k.a,{component:"div",rowsPerPageOptions:[10,20,50,100],count:0!=(null===et||void 0===et?void 0:et.metadata.length)?null===et||void 0===et?void 0:et.metadata[0].total:0,rowsPerPage:ae,page:I,onPageChange:function(e,t){U(t),tt()},onRowsPerPageChange:function(e){ne(parseInt(e.target.value,10)),U(0),setTimeout((function(){tt()}),500)}})]}),Object(K.jsxs)(L.a,{fullScreen:Ue,open:Me,onClose:it,"aria-labelledby":"responsive-dialog-title",children:[Object(K.jsx)(_.a,{id:"responsive-dialog-title",className:"m-auto",children:"Are you sure you want to delete?"}),Object(K.jsx)(S.a,{}),Object(K.jsxs)(y.a,{className:"m-auto",children:[Object(K.jsx)(m.a,{className:"theme_button_view",variant:"contained",autoFocus:!0,onClick:it,children:"Cancel"}),Object(K.jsx)(m.a,{className:"theme_button",variant:"contained",onClick:lt,autoFocus:!0,children:"Delete"})]})]})]})}},914:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M5.625 2.875H5.5C5.56875 2.875 5.625 2.81875 5.625 2.75V2.875H10.375V2.75C10.375 2.81875 10.4312 2.875 10.5 2.875H10.375V4H11.5V2.75C11.5 2.19844 11.0516 1.75 10.5 1.75H5.5C4.94844 1.75 4.5 2.19844 4.5 2.75V4H5.625V2.875ZM13.5 4H2.5C2.22344 4 2 4.22344 2 4.5V5C2 5.06875 2.05625 5.125 2.125 5.125H3.06875L3.45469 13.2969C3.47969 13.8297 3.92031 14.25 4.45312 14.25H11.5469C12.0813 14.25 12.5203 13.8313 12.5453 13.2969L12.9312 5.125H13.875C13.9438 5.125 14 5.06875 14 5V4.5C14 4.22344 13.7766 4 13.5 4Z",fill:"#d40f0f"}),Object(n.jsx)("path",{d:"M11.4266 13.125H4.57344L4.19531 5.125H11.8047L11.4266 13.125Z",fill:"white"})]})}},953:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t=e.color,a=e.size;return Object(n.jsxs)("svg",{width:a||"24",height:a||"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("g",{clipPath:"url(#clip0_2235_20503)",children:Object(n.jsx)("path",{d:"M7.29101 20.824L2.00001 22L3.17601 16.709C2.40154 15.2604 1.99754 13.6426 2.00001 12C2.00001 6.477 6.47701 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C10.3574 22.0025 8.73963 21.5985 7.29101 20.824ZM7.58101 18.711L8.23401 19.061C9.39256 19.6801 10.6864 20.0027 12 20C13.5823 20 15.129 19.5308 16.4446 18.6518C17.7602 17.7727 18.7855 16.5233 19.391 15.0615C19.9965 13.5997 20.155 11.9911 19.8463 10.4393C19.5376 8.88743 18.7757 7.46197 17.6569 6.34315C16.538 5.22433 15.1126 4.4624 13.5607 4.15372C12.0089 3.84504 10.4004 4.00346 8.93854 4.60896C7.47674 5.21447 6.22731 6.23984 5.34825 7.55544C4.4692 8.87103 4.00001 10.4177 4.00001 12C4.00001 13.334 4.32501 14.618 4.94001 15.766L5.28901 16.419L4.63401 19.366L7.58101 18.711Z",fill:t||"#2D3748"})}),Object(n.jsx)("defs",{children:Object(n.jsx)("clipPath",{id:"clip0_2235_20503",children:Object(n.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}}}]);
//# sourceMappingURL=27.da61af29.chunk.js.map