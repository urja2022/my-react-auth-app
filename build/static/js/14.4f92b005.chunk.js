(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[14],{1017:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(12),c=n.n(a),s=n(21),i=n(5),o=n(298),l=n(749),d=n(902),u=n(19),b=n(59),m=n(1),p=n(358),j=n.n(p),h=n(921),v=n(920),f=n(46),g=n(23),O=n(32),x=n(53),y=n(33),N=n(25),_=n(0);t.default=function(){var e=Object(m.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1],p=Object(m.useState)(),C=Object(i.a)(p,2),w=C[0],S=C[1],P=Object(m.useState)(!1),k=Object(i.a)(P,2),V=k[0],L=k[1],E=Object(m.useState)(null),A=Object(i.a)(E,2),F=A[0],H=A[1],R=Object(m.useState)(),z=Object(i.a)(R,2),D=z[0],I=z[1],B=Object(f.a)({type:"business"}),M=Object(m.useState)(""),U=Object(i.a)(M,2),q=U[0],T=U[1],W=Object(m.useState)(""),J=Object(i.a)(W,2),Z=J[0],K=J[1],X=Object(x.b)().enqueueSnackbar,G=Object(N.g)(),Q=function(e){if(e.type.includes("image")){var t=URL.createObjectURL(e);a(t);var n=new FormData;n.append("image",e),B.post(g.b.uploadFile,n).then((function(e){I(e.data.image)})).catch((function(e){var t=e.response.data;Object.keys(t).forEach((function(e){ce("image",t[e])}))}))}else X("Accept Only Images.",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3})},Y=u.d().shape({registrationNumber:u.e().required("Registration Number is required"),address:u.e().required("Please Selact a location"),image:u.b().required("Document is required")}),$=Object(b.e)({initialValues:{registrationNumber:"",address:"",image:"",remember:!0},validationSchema:Y,onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.resetForm,r=n.setSubmitting,a={registrationNumber:t.registrationNumber,image:D,secondaryNumber:"+"+w,address:{name:t.address,longitude:Z,latitude:q}},ee(a),r(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),ee=Object(y.useMutation)(function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post(g.b.businessIdVerify,JSON.stringify(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(e){X("Verification Complete.",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),G(O.c.general.businessPermission)},onError:function(e){var t,n,r,a,c=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message;c&&X(c,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3});var s=null===e||void 0===e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors;s&&Object.keys(s).forEach((function(e){"secondaryNumber"===e?H(s[e]):ce("address.name"===e?"address":e,s[e])}))}}).mutateAsync,te=$.errors,ne=$.touched,re=$.setFieldValue,ae=$.handleSubmit,ce=$.setFieldError,se=$.getFieldProps;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(b.d,{value:$,children:Object(_.jsx)(b.c,{autoComplete:"off",noValidate:!0,onSubmit:ae,children:Object(_.jsxs)("div",{className:"container-fluid",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("div",{className:"col-lg-11 col-xl-10 col-xxl-8",children:[Object(_.jsx)("h4",{className:"app_text_18_semibold",children:"Verification"}),Object(_.jsx)("h4",{className:"app_text_16 app_text_gray",children:"Verify business documents"}),Object(_.jsxs)("div",{className:"row row-cols-1 g-4 mt-4",children:[Object(_.jsx)("div",{className:"col",children:Object(_.jsxs)("div",{className:"col-md-8",children:[Object(_.jsx)("h4",{className:"app_text_14 app_text_black",children:n?"Document":"Upload business document"}),n?Object(_.jsxs)("div",{className:"d-flex align-items-end mb-2",children:[Object(_.jsx)("div",{className:"img_preview_circle",children:Object(_.jsx)("img",{src:n,alt:"profile"})}),Object(_.jsxs)(o.a,{className:"ms-4 app_bg_primary",variant:"contained",component:"label",children:["Change Document",Object(_.jsx)("input",{hidden:!0,accept:"image/*",onChange:function(e){var t=e.target.files[0];Q(t),$.setFieldValue("image",t)},type:"file"})]})]}):Object(_.jsx)("div",{className:"img_preview_container",children:Object(_.jsxs)(o.a,{className:"py-5 app_text_14_500 app_text_gray text-lowercase d-flex flex-column",component:"label",children:[Object(_.jsx)(v.a,{}),Object(_.jsx)("span",{className:"mt-2",children:"Upload photo"}),Object(_.jsx)("input",{name:"image",hidden:!0,accept:"image/*",type:"file",onChange:function(e){var t=e.target.files[0];Q(t),$.setFieldValue("image",t)}})]})}),Object(_.jsx)(l.a,{error:!0,children:ne.image&&te.image})]})}),Object(_.jsxs)("div",{className:"col",children:[Object(_.jsx)("div",{className:"col-md-8",children:Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({fullWidth:!0,disabled:!0,variant:"outlined",label:"Home Address"},se("address")),{},{error:Boolean(ne.address&&te.address),helperText:ne.address&&te.address}))}),Object(_.jsx)("div",{className:"col-md-8 my-2 d-flex justify-content-center",children:Object(_.jsx)("span",{className:"app_text_gray",children:"- OR -"})}),Object(_.jsx)("div",{className:"col-md-8",children:Object(_.jsx)(o.a,{onClick:function(){return document.getElementById("locationPopup").classList.add("show"),document.body.style.overflow="hidden",void(document.body.style.paddingRight="0px")},fullWidth:!0,className:"text-lowercase app_btn_lg",variant:"outlined",children:"Select Address From Map"})})]}),Object(_.jsx)("div",{className:"col",children:Object(_.jsxs)("div",{className:"col-md-8",children:[Object(_.jsx)(j.a,{inputProps:{style:{width:"100%"},name:"phoneSecondary",required:!0,onFocus:function(){return L(!0)},onBlur:function(){return L(!1)}},isValid:function(e,t){return V&&t.countryCode===e?(H((function(e){return"Please enter a number"})),!1):(H(null),!0)},country:"au",specialLabel:"Secondary Phone Number",onChange:function(e){return S(e)}}),Object(_.jsx)(l.a,{error:!!F,children:F})]})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)("div",{className:"col-md-8",children:Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({fullWidth:!0,variant:"outlined",label:"Business Registration Number"},se("registrationNumber")),{},{error:Boolean(ne.registrationNumber&&te.registrationNumber),helperText:ne.registrationNumber&&te.registrationNumber}))})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)("div",{className:"col-md-8",children:Object(_.jsx)(o.a,{type:"submit",fullWidth:!0,variant:"contained",className:"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg",children:"Next"})})})]})]})}),Object(_.jsx)(h.a,{addressData:function(e){re("address",e.address),T(e.lat),K(e.lng)}})]})})})})}},916:function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(37)),c=n(0),s=(0,a.default)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");t.default=s},918:function(e,t,n){"use strict";var r=n(12);n(508);function a(e,t,n,r,a,c,s){try{var i=e[c](s),o=i.value}catch(e){return void n(e)}i.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var s=e.apply(t,n);function i(e){a(s,r,c,i,o,"next",e)}function o(e){a(s,r,c,i,o,"throw",e)}i(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=!1,i=null,o="en",l=null,d=null,u="https://maps.googleapis.com/maps/api/geocode/json";function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(t?console.warn(e):console.log(e))}function m(e){return p.apply(this,arguments)}function p(){return(p=c(r.mark((function e(t){var n,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch((function(){return Promise.reject(new Error("Error fetching data"))}));case 2:return n=e.sent,e.next=5,n.json().catch((function(){return b("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))}));case 5:if("OK"!==(a=e.sent).status){e.next=9;break}return b(a),e.abrupt("return",a);case 9:return b("".concat(a.error_message,".\nServer returned status code ").concat(a.status),!0),e.abrupt("return",Promise.reject(new Error("".concat(a.error_message,".\nServer returned status code ").concat(a.status))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j={setApiKey:function(e){i=e},setLanguage:function(e){o=e},setRegion:function(e){l=e},setLocationType:function(e){d=e},enableDebug:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s=e},fromLatLng:function(e,t,n,a,s,p){return c(r.mark((function c(){var j,h;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=3;break}return b("Provided coordinates are invalid",!0),r.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return j="".concat(e,",").concat(t),h="".concat(u,"?latlng=").concat(encodeURIComponent(j)),(n||i)&&(h+="&key=".concat(i=n||i)),(a||o)&&(h+="&language=".concat(o=a||o)),(s||l)&&(l=s||l,h+="&region=".concat(encodeURIComponent(l))),(p||d)&&(d=p||d,h+="&location_type=".concat(encodeURIComponent(d))),r.abrupt("return",m(h));case 9:case"end":return r.stop()}}),c)})))()},fromAddress:function(e,t,n,a){return c(r.mark((function c(){var s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return b("Provided address is invalid",!0),r.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return s="".concat(u,"?address=").concat(encodeURIComponent(e)),(t||i)&&(s+="&key=".concat(i=t||i)),(n||o)&&(s+="&language=".concat(o=n||o)),(a||l)&&(l=a||l,s+="&region=".concat(encodeURIComponent(l))),r.abrupt("return",m(s));case 8:case"end":return r.stop()}}),c)})))()}};t.default=j},920:function(e,t,n){"use strict";n(1);var r=n(0);t.a=function(){return Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.008 3C21.556 3 22 3.445 22 3.993V13.342C21.3576 13.1151 20.6813 12.9994 20 13V5H4L4.001 19L13.293 9.707C13.465 9.53448 13.694 9.43073 13.9371 9.41526C14.1802 9.39979 14.4206 9.47367 14.613 9.623L14.706 9.708L18.252 13.258C17.4766 13.4943 16.7572 13.8851 16.1369 14.407C15.5167 14.9288 15.0086 15.5709 14.6432 16.2944C14.2779 17.0179 14.0628 17.808 14.0111 18.6169C13.9593 19.4258 14.0719 20.2368 14.342 21.001L2.992 21C2.72881 20.9997 2.4765 20.895 2.29049 20.7088C2.10448 20.5226 2 20.2702 2 20.007V3.993C2.00183 3.73038 2.1069 3.47902 2.29251 3.29322C2.47813 3.10742 2.72938 3.00209 2.992 3H21.008ZM8 7C8.53043 7 9.03914 7.21071 9.41421 7.58579C9.78929 7.96086 10 8.46957 10 9C10 9.53043 9.78929 10.0391 9.41421 10.4142C9.03914 10.7893 8.53043 11 8 11C7.46957 11 6.96086 10.7893 6.58579 10.4142C6.21071 10.0391 6 9.53043 6 9C6 8.46957 6.21071 7.96086 6.58579 7.58579C6.96086 7.21071 7.46957 7 8 7Z",fill:"#97A8BE"})})}},921:function(e,t,n){"use strict";var r=n(5),a=n(1),c=n(916),s=n.n(c),i=n(298),o=n(917),l=(n(918),n(0));t.a=function(e){var t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0],d=n[1],u=Object(a.useState)(),b=Object(r.a)(u,2),m=b[0],p=b[1];return Object(l.jsx)("section",{id:"locationPopup",className:"location_popup_overlay",children:Object(l.jsxs)("div",{className:"container position-relative",children:[Object(l.jsx)(i.a,{onClick:function(){return document.getElementById("locationPopup").classList.remove("show"),void document.body.removeAttribute("style")},className:"app_blank_btn popup_close_btn",variant:"outlined",children:Object(l.jsx)(s.a,{})}),Object(l.jsx)("div",{className:"location_box",children:Object(l.jsx)("div",{className:"location_map",children:Object(l.jsx)(o.d,{googleMapsApiKey:"AIzaSyCI-T5kfFDaBGWiLZPAJXzbQa9v7miTYuE",id:"script-loader",children:Object(l.jsx)(o.b,{mapContainerClassName:"w-100 h-100",options:{streetViewControl:!1,scaleControl:!0,mapTypeControl:!1,panControl:!1,zoomControl:!0,rotateControl:!1},keyboardShortcuts:!1,draggable:!0,zoom:5,center:{lat:-14.306030397015958,lng:-59.62628605787748},onClick:function(t){return function(t){var n=t.latLng.lat().toString(),r=t.latLng.lng().toString();p(r),d(n),e.addressData({lat:n,lng:r,address:"Abc Xyz"})}(t)},children:Object(l.jsx)(o.e,{position:{lat:Number(c),lng:Number(m)}},"Location 1")})})})})]})})}}}]);
//# sourceMappingURL=14.4f92b005.chunk.js.map