{"version":3,"sources":["pages/dashboard/UserDeleteReq.jsx"],"names":["require","UserDeleteReq","useState","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","filterName","setFilterName","tableData","setTableData","axiosPrivate","useAxiosPrivate","loding","setLoding","enqueueSnackbar","useSnackbar","permissionsData","useStore","state","permissions","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","navigate","useNavigate","open","setOpen","deleteData","setDeleteData","CsvData","setCsvData","disableBtn","setDisableBtn","StyledTableRow","styled","TableRow","backgroundColor","background","border","useEffect","arr","map","item","createdAt","Date","toLocaleString","obj","businessId","businessName","userName","businessEmail","userEmail","mobile","reason","push","csvReport","data","headers","label","key","filename","descendingComparator","a","b","getBusinessData","get","USER_API_URL","getUserDeleteReqList","params","type","search","limit","response","useQuery","keepPreviousData","isLoading","userDeleteReqList","refetch","metadata","length","hasMoreData","setTimeout","handleClose","filteredUsers","array","comparator","stabilizedThis","el","index","sort","applySortFilter","getComparator","status","delete","deleteUser","userId","message","variant","anchorOrigin","vertical","horizontal","autoHideDuration","deleteUserBusiness","id","put","cancelRequest","className","fullWidth","sx","flex","placeholder","onChange","e","target","value","trim","direction","spacing","title","placement","style","fontSize","color","users","substring","onClose","autoFocus","onClick","updateRequest","disabled","headLabel","alignRight","rowCount","total","onRequestSort","event","property","row","i","component","scope","align","moment","format","business_request","_id","PATH_DASHBOARD","general","deleteBusinessReqView","ArchiveUserView","colSpan","py","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt"],"mappings":"ohBAsBUA,EAAQ,IAEH,SAASC,IAAiB,IAAD,EACtC,EAAwBC,mBAAS,GAAE,mBAA5BC,EAAI,KAAEC,EAAO,KACpB,EAAsCF,mBAAS,IAAG,mBAA3CG,EAAW,KAAEC,EAAc,KAClC,EAA0BJ,mBAAS,OAAM,mBAAlCK,EAAK,KAAEC,EAAQ,KACtB,EAA8BN,mBAAS,QAAO,oBAAvCO,GAAO,MAAEC,GAAU,MAC1B,GAAoCR,mBAAS,IAAG,qBAAzCS,GAAU,MAAEC,GAAa,MAChC,GAAkCV,mBAAS,IAAG,qBAAvCW,GAAS,MAAEC,GAAY,MACxBC,GAAeC,cACrB,GAA4Bd,oBAAS,GAAK,qBAAnCe,GAAM,MAAEC,GAAS,MAChBC,GAAoBC,cAApBD,gBACFE,GAAkBC,aAAS,SAAAC,GAAK,OAAIA,EAAMC,eAC1CC,GAAQC,cACRC,GAAaC,YAAcH,GAAMI,YAAYC,KAAK,OAClDC,GAAWC,cACjB,GAAwB9B,oBAAS,GAAM,qBAAhC+B,GAAI,MAAEC,GAAO,MACpB,GAAoChC,oBAAS,GAAM,qBAA5CiC,GAAU,MAAEC,GAAa,MAChC,GAA8BlC,mBAAS,IAAG,qBAAnCmC,GAAO,MAAEC,GAAU,MAC1B,GAAoCpC,oBAAS,GAAM,qBAA5CqC,GAAU,MAAEC,GAAa,MAI1BC,GAAiBC,YAAOC,IAAPD,EAAiB,YAAQ,EAALjB,MAAK,MAAQ,CACtD,qBAAsB,CACpBmB,gBAAiB,WAGnB,sBAAuB,CACrBC,WAAY,sFAGd,aAAc,CACZC,OAAQ,OAcZC,qBAAU,WACR,IAAIC,EAAM,GACVnC,GAAUoC,KAAI,SAACC,GACb,IAAMC,EAAY,IAAIC,KAAS,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMC,WAAWE,iBACxCC,EAAM,CACR,MAAY,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMK,YAAiB,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMM,aAAmB,OAAJN,QAAI,IAAJA,OAAI,EAAJA,EAAMO,SACtD,OAAa,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAMK,YAAiB,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMQ,cAAoB,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMS,UACxD,QAAc,OAAJT,QAAI,IAAJA,OAAI,EAAJA,EAAMU,QAAa,OAAJV,QAAI,IAAJA,OAAI,EAAJA,EAAMU,OAAS,IACxC,QAAc,OAAJV,QAAI,IAAJA,OAAI,EAAJA,EAAMW,QAAa,OAAJX,QAAI,IAAJA,OAAI,EAAJA,EAAMW,OAAS,IACxC,QAAc,OAAJX,QAAI,IAAJA,OAAI,EAAJA,EAAMK,YAAa,WAAa,QAC1C,UAAsB,OAATJ,QAAS,IAATA,IAAa,KAE5BH,EAAIc,KAAKR,MAEXhB,GAAWU,KACV,CAACnC,KACJ,IAQIkD,GAAY,CACdC,KAAM3B,GACN4B,QAVc,CACd,CAAEC,MAAO,OAAQC,IAAK,QACtB,CAAED,MAAO,QAASC,IAAK,SACvB,CAAED,MAAO,SAAUC,IAAK,UACxB,CAAED,MAAO,SAAUC,IAAK,UACxB,CAAED,MAAO,SAAUC,IAAK,UACxB,CAAED,MAAO,YAAaC,IAAK,cAK3BC,SAAU,iCAEZ,SAASC,GAAqBC,EAAGC,EAAG9D,GAClC,OAAI8D,EAAE9D,GAAW6D,EAAE7D,IACT,EAEN8D,EAAE9D,GAAW6D,EAAE7D,GACV,EAEF,EAiBR,SACc+D,GAAgB,EAAD,iDAG7B,OAH6B,yBAA9B,WAA+BrE,EAAMQ,GAAU,uFACtBI,GAAa0D,IAAIC,IAAaC,qBAAsB,CAAEC,OAAQ,CAAEC,KAAM,IAAK1E,KAAMA,EAAO,EAAG2E,OAAQnE,EAAYoE,MAAO1E,KAAgB,OAA/I,OAAR2E,EAAQ,yBACPA,EAAShB,KAAK,IAAE,4CACxB,sBAED,OAAwDiB,mBAAS,CAAC,oBAAqB9E,EAAMQ,KAAa,kBAAM6D,GAAgBrE,EAAMQ,MAAa,CAAEuE,kBAAkB,IAA/JC,GAAS,GAATA,UAAiBC,GAAiB,GAAvBpB,KAAyBqB,GAAO,GAAPA,QAE5CtC,qBAAU,WACJqC,KACFtE,GAA8B,OAAjBsE,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBpB,MAChC1D,EAAqD,IAArB,OAAjB8E,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAASC,QAA+B,OAAjBH,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAAS,GAAGP,MAAQ,KAExD,IAArB,OAAjBK,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAASC,SAA6D,IAA7B,OAAjBH,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAAS,GAAGE,cAC5EhB,GAAgBrE,EAAO,GAEzBsF,YAAW,WACTvE,IAAU,KACT,QACF,CAACkE,KAGJ,IA0BMM,GAAc,WAClBxD,IAAQ,IAGJyD,GA7DN,SAAyBC,EAAOC,GAC9B,IAAMC,EAAiBF,EAAM3C,KAAI,SAAC8C,EAAIC,GAAK,MAAK,CAACD,EAAIC,MAOrD,OANAF,EAAeG,MAAK,SAAC3B,EAAGC,GACtB,IAAMhE,EAAQsF,EAAWvB,EAAE,GAAIC,EAAE,IACjC,OAAc,IAAVhE,EAAoBA,EACjB+D,EAAE,GAAKC,EAAE,MAGXuB,EAAe7C,KAAI,SAAC8C,GAAE,OAAKA,EAAG,MAqDjBG,CAAgBrF,GAlEtC,SAAuBN,EAAOE,GAC5B,MAAiB,SAAVF,EACH,SAAC+D,EAAGC,GAAC,OAAKF,GAAqBC,EAAGC,EAAG9D,IACrC,SAAC6D,EAAGC,GAAC,OAAMF,GAAqBC,EAAGC,EAAG9D,IA+DK0F,CAAc5F,EAAOE,KAE1C,cAqC3B,OArC2B,yBAA5B,8BAAA6D,EAAA,sDACsB,GAApB9B,IAAc,GACW,GAArBL,GAAWiE,QAAgBjE,GAAWoB,WAAU,gCAC3BxC,GAAasF,OAAO3B,IAAa4B,WAAanE,GAAWoE,QAAO,OAChE,MADjBvB,EAAQ,QACDoB,QACX5D,IAAc,GACdrB,GAAgB6D,EAAShB,KAAKwC,QAAS,CACrCC,QAAS,UACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,OAGpB1F,GAAgB,uBAAwB,CACtCsF,QAAS,QACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAErB,wCAEsB9F,GAAasF,OAAO3B,IAAaoC,mBAAqB3E,GAAWoB,YAAW,QAC5E,MADjByB,EAAQ,QACDoB,QACX5D,IAAc,GACdrB,GAAgB6D,EAAShB,KAAKwC,QAAS,CACrCC,QAAS,UACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,OAGpB1F,GAAgB,uBAAwB,CACtCsF,QAAS,QACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAErB,QAEHxB,KACAK,KAAc,6CACf,sBAE2B,cAiB3B,OAjB2B,yBAA5B,WAA6BqB,GAAE,uFACNhG,GAAaiG,IAAItC,IAAauC,cAAgBF,GAAG,OACjD,MADjB/B,EAAQ,QACDoB,OACXjF,GAAgB6D,EAAShB,KAAKwC,QAAS,CACrCC,QAAS,UACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAGpB1F,GAAgB,uBAAwB,CACtCsF,QAAS,QACTC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iBAAkB,MAGtBxB,KACAK,KAAc,4CACf,sBAED,GAAIP,GAAW,OAAO,cAAC,IAAa,IAYpC,OACE,mCACGlE,GAAS,cAAC,IAAa,IAAM,qCAC5B,sBAAKiG,UAAU,wBAAuB,UACpC,eAAC,IAAK,CAACA,UAAU,+BAA8B,UAC7C,cAAC,IAAU,UACT,cAAC,IAAU,MAEb,cAAC,IAAS,CACRC,WAAS,EACTC,GAAI,CAAEC,KAAM,GACZC,YAAY,sBACZC,SAAU,SAACC,GAAC,OArGtB5G,GAqG8C4G,EArG1BC,OAAOC,MAAMC,aACjCnD,GAAgBrE,EAAMQ,UAuGhB,eAAC,IAAK,CAACiH,UAAW,MAAOV,UAAU,4BAA4BW,QAAS,EAAE,UACxE,cAAC,IAAU,CAACC,MAAM,UAAUC,UAAU,SAAQ,SAAC,cAAC,IAAM,CAACb,UAAU,8BAA6B,SAAC,cAAC,IAAmB,CAACc,MAAO,CAAEC,SAAU,GAAIC,MAAO,iBAEtG,MAA5B,OAAf7G,SAAe,IAAfA,IAAsB,QAAP,EAAfA,GAAiB8G,aAAK,WAAP,EAAf,EAAwBC,UAAU,EAAG,IAEpC,cAAC,IAAU,CAACN,MAAM,eAAeC,UAAU,SAAQ,SAAC,cAAC,IAAM,CAACb,UAAU,8BAA6B,SAAE,cAAC,UAAO,2BAAKnD,IAAS,aAAE,cAAC,IAAsB,CAACiE,MAAO,CAAEC,SAAU,GAAIC,MAAO,oBAAkD,SAG3O,eAAC,IAAM,CACLvG,WAAYA,GACZM,KAAMA,GACNoG,QAAS3C,GACT,kBAAgB,0BAAyB,UAEzC,cAAC,IAAW,CAACqB,GAAG,0BAA0BG,UAAU,SAAQ,SACzD,8CAEH,cAAC,IAAa,IAEd,eAAC,IAAa,CAACA,UAAU,SAAQ,UAC/B,cAAC,IAAM,CAACA,UAAU,oBAAoBT,QAAQ,YAAY6B,WAAS,EAACC,QAAS7C,GAAY,SAAC,WAI1F,cAAC,IAAM,CAACwB,UAAU,oBAAoBT,QAAQ,YAAY8B,QAAS,kBA/GG,WAEpD,gCA6GuDC,IAAiBF,WAAS,EAACG,SAAUlG,GAAW,SAAC,iBAK9H,eAAC,IAAI,WACH,cAAC,IAAc,UACb,eAAC,IAAK,WACJ,cAAC,IAAY,CACXmG,UA3OK,CACjB,CAAE3B,GAAI,WAAY7C,MAAO,OAAQyE,YAAY,GAC7C,CAAE5B,GAAI,QAAS7C,MAAO,QAASyE,YAAY,GAC3C,CAAE5B,GAAI,SAAU7C,MAAO,SAAUyE,YAAY,GAC7C,CAAE5B,GAAI,SAAU7C,MAAO,SAAUyE,YAAY,GAC7C,CAAE5B,GAAI,SAAU7C,MAAO,iBAAkByE,YAAY,GACrD,CAAE5B,GAAI,YAAa7C,MAAO,OAAQyE,YAAY,GAC9C,CAAE5B,GAAI,SAAU7C,MAAO,SAAUyE,YAAY,IAqOjCC,SAAiD,KAAtB,OAAjBxD,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAASC,QAAgC,OAAjBH,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAAS,GAAGuD,MAAQ,EAC5FC,cAvIY,SAACC,EAAOC,GAEhCxI,EADcC,KAAYuI,GAAsB,QAAVzI,EACrB,OAAS,OAC1BG,GAAWsI,MAsIAnI,GAAU0E,OAAS,EAClB,cAAC,IAAS,UACPI,GAAc1C,KAAI,SAACgG,EAAKC,GAAO,IAAD,MAC7B,OACE,eAACzG,GAAc,WACb,cAAC,IAAS,CAAC0G,UAAU,KAAKC,MAAM,MAAK,UAC/B,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAK1F,YAAa0F,EAAIzF,aAA2B,QAAf,EAAGyF,EAAIxF,gBAAQ,QAAI,MAExD,cAAC,IAAS,CAAC0F,UAAU,KAAKC,MAAM,MAAK,UAC/B,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAK1F,YAAa0F,EAAIvF,cAA6B,QAAhB,EAAGuF,EAAItF,iBAAS,QAAI,MAE1D,cAAC,IAAS,CAACwF,UAAU,KAAKC,MAAM,MAAK,UAC/B,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKrF,QAASqF,EAAIrF,OAAS,MAE9B,cAAC,IAAS,CAACuF,UAAU,KAAKC,MAAM,MAAK,SAClCH,EAAIpF,SAEP,cAAC,IAAS,CAACsF,UAAU,KAAKC,MAAM,MAAK,SAClCH,EAAI1F,WAAa,WAAa,SAEjC,eAAC,IAAS,CAAC8F,MAAM,OAAM,UAAC,IAAEC,IAAOL,EAAI9F,WAAWoG,OAAO,yBACvD,cAAC,IAAS,UACR,cAAC,IAAK,CAAC3B,UAAU,MAAMC,QAAS,EAAE,SACuB,MAAvC,OAAfxG,SAAe,IAAfA,IAAiC,QAAlB,EAAfA,GAAiBmI,wBAAgB,WAAlB,EAAf,EAAmCpB,UAAU,EAAG,IAC/C,qCACE,cAAC,IAAU,CAACN,MAAM,yBAAyBC,UAAU,SAAQ,SAAC,cAAC,IAAM,CAACb,UAAU,eAAeT,QAAQ,YAAY8B,QAAS,SAACf,GAAC,OA5J1JpF,GA4J+K6G,QA3J/K/G,IAAQ,IA2J4K,SAAC,aACzJ,cAAC,IAAU,CAAC4F,MAAM,iBAAiBC,UAAU,SAAQ,SAAC,cAAC,IAAM,CAACb,UAAU,iBAAiBT,QAAQ,YAAY8B,QAAS,SAACf,GAAC,OA/GrJ,SAE4B,GAAD,gCA6G+HP,CAAcgC,EAAIQ,MAAK,SAAC,aACrJ,cAAC,IAAU,CAAC3B,MAAM,YAAYC,UAAU,SAAQ,SAAC,cAAC,IAAM,CAACb,UAAU,iBAAiBT,QAAQ,YAAY8B,QAAS,WAtFrH,IAACvE,KAsF4IiF,GArF5J1F,WACPxB,GAAS2H,IAAeC,QAAQC,sBAAuB,CAAErI,MAAO,CAAEgC,WAAgB,OAAJS,QAAI,IAAJA,OAAI,EAAJA,EAAMT,cAEpFxB,GAAS2H,IAAeC,QAAQE,gBAAiB,CAAEtI,MAAO,CAAEgF,OAAY,OAAJvC,QAAI,IAAJA,OAAI,EAAJA,EAAMuC,WAkF8F,SAAE,cAC5I,SAxBO2C,QAgC3B,cAAC,IAAS,UACR,cAAC,IAAQ,UACP,cAAC,IAAS,CAACG,MAAM,SAASS,QAAS,EAAG1C,GAAI,CAAE2C,GAAI,GAAI,SAClD,sBAAM7C,UAAU,uBAAsB,SAAC,6BAMnD,cAAC,IAAe,CACdiC,UAAU,MACVa,mBAAoB,CAAC,GAAI,GAAI,GAAI,KACjCC,MAA6C,IAArB,OAAjB7E,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAASC,QAA+B,OAAjBH,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBE,SAAS,GAAGuD,MAAQ,EACxFxI,YAAaA,EACbF,KAAMA,EACN+J,aA7Me,SAACnB,EAAOoB,GAC/B/J,EAAQ+J,IA6MAC,oBA1MsB,SAACrB,GAC/BzI,EAAe+J,SAAStB,EAAMtB,OAAOC,MAAO,KAC5CtH,EAAQ,GACRqF,YAAW,WACTJ,OACC","file":"static/js/54.6f550156.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { IconButton, InputBase, Paper, Card, Table, TableBody, TableCell, TableContainer, TablePagination, TableRow } from \"@material-ui/core\";\r\nimport { styled } from '@mui/material/styles';\r\nimport RefreshOutlinedIcon from '@mui/icons-material/RefreshOutlined';\r\nimport { useQuery } from 'react-query';\r\nimport { USER_API_URL } from \"src/api/axios\";\r\nimport UserListHead from \"src/components/user/UserListHead\";\r\nimport useAxiosPrivate from \"src/hooks/useAxiosPrivate\";\r\nimport { Stack } from \"@mui/material\";\r\nimport Button from '@mui/material/Button';\r\nimport SearchIcon from \"src/svgComponents/SearchIcon\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport useStore from 'src/contexts/AuthProvider'\r\nimport LoadingScreen from 'src/components/LoadingScreen'\r\nimport moment from 'moment'\r\nimport { useNavigate } from \"react-router\";\r\nimport { PATH_DASHBOARD } from \"src/routes/paths\";\r\nimport AppTooltip from \"src/components/common/AppTooltip\";\r\nimport { Dialog, DialogActions, DialogContent, DialogTitle, useMediaQuery } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { CSVLink } from \"react-csv\";\r\nimport FileUploadOutlinedIcon from '@mui/icons-material/FileUploadOutlined';\r\nconst _ = require('lodash');\r\n\r\nexport default function UserDeleteReq() {\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('name');\r\n  const [filterName, setFilterName] = useState('');\r\n  const [tableData, setTableData] = useState([]);\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const [loding, setLoding] = useState(true);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const permissionsData = useStore(state => state.permissions);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('md'));\r\n  const navigate = useNavigate();\r\n  const [open, setOpen] = useState(false);\r\n  const [deleteData, setDeleteData] = useState(false);\r\n  const [CsvData, setCsvData] = useState([]);\r\n  const [disableBtn, setDisableBtn] = useState(false)\r\n\r\n  const label = { inputProps: { 'aria-label': 'Switch demo' } };\r\n\r\n  const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: '#ffffff',\r\n\r\n    },\r\n    '&:nth-of-type(even)': {\r\n      background: \"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7\",\r\n    },\r\n    // hide last border\r\n    '& td, & th': {\r\n      border: 0,\r\n    },\r\n  }));\r\n\r\n  const TABLE_HEAD = [\r\n    { id: 'userName', label: 'name', alignRight: false },\r\n    { id: 'email', label: 'email', alignRight: false },\r\n    { id: 'mobile', label: 'mobile', alignRight: false },\r\n    { id: 'reason', label: 'reason', alignRight: false },\r\n    { id: 'status', label: 'delete request', alignRight: false },\r\n    { id: 'createdAt', label: 'date', alignRight: false },\r\n    { id: 'action', label: 'action', alignRight: false },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    var arr = [];\r\n    tableData.map((item) => {\r\n      const createdAt = new Date(item?.createdAt).toLocaleString();\r\n      var obj = {\r\n        \"name\": item?.businessId ? item?.businessName : item?.userName,\r\n        \"email\": item?.businessId ? item?.businessEmail : item?.userEmail,\r\n        \"mobile\": item?.mobile ? item?.mobile : '-',\r\n        \"reason\": item?.reason ? item?.reason : '-',\r\n        \"status\": item?.businessId ? 'Business' : ' User',\r\n        \"createdAt\": createdAt ?? '-',\r\n      }\r\n      arr.push(obj);\r\n    })\r\n    setCsvData(arr)\r\n  }, [tableData]);\r\n  const headers = [\r\n    { label: \"name\", key: \"name\" },\r\n    { label: \"email\", key: \"email\" },\r\n    { label: \"mobile\", key: \"mobile\" },\r\n    { label: \"reason\", key: \"reason\" },\r\n    { label: \"status\", key: \"status\" },\r\n    { label: \"createdAt\", key: \"createdAt\" },\r\n  ];\r\n  let csvReport = {\r\n    data: CsvData,\r\n    headers: headers,\r\n    filename: 'beemz-user-delete-request.csv'\r\n  };\r\n  function descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n      return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n      ? (a, b) => descendingComparator(a, b, orderBy)\r\n      : (a, b) => -descendingComparator(a, b, orderBy);\r\n  }\r\n  function applySortFilter(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n      const order = comparator(a[0], b[0]);\r\n      if (order !== 0) return order;\r\n      return a[1] - b[1];\r\n    });\r\n\r\n    return stabilizedThis.map((el) => el[0]);\r\n  }\r\n  async function getBusinessData(page, filterName) {\r\n    const response = await axiosPrivate.get(USER_API_URL.getUserDeleteReqList, { params: { type: '1', page: page + 1, search: filterName, limit: rowsPerPage } })\r\n    return response.data[0];\r\n  }\r\n\r\n  const { isLoading, data: userDeleteReqList, refetch } = useQuery(['userDeleteReqList', page, filterName], () => getBusinessData(page, filterName), { keepPreviousData: true, })\r\n\r\n  useEffect(() => {\r\n    if (userDeleteReqList) {\r\n      setTableData(userDeleteReqList?.data);\r\n      setRowsPerPage(userDeleteReqList?.metadata.length != 0 ? userDeleteReqList?.metadata[0].limit : 10);\r\n    }\r\n    if (userDeleteReqList?.metadata.length != 0 && userDeleteReqList?.metadata[0].hasMoreData == true) {\r\n      getBusinessData(page + 1);\r\n    }\r\n    setTimeout(() => {\r\n      setLoding(false);\r\n    }, 1800);\r\n  }, [userDeleteReqList])\r\n\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n    setTimeout(() => {\r\n      refetch();\r\n    }, 500);\r\n  };\r\n\r\n  const handleFilterByName = (event) => {\r\n    setFilterName(event.target.value.trim());\r\n    getBusinessData(page, filterName);\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n  const handleClickOpen = (value) => {\r\n    setDeleteData(value);\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const filteredUsers = applySortFilter(tableData, getComparator(order, orderBy));\r\n\r\n  async function updateRequest() {\r\n    setDisableBtn(true);\r\n    if (deleteData.status == 0 && !deleteData.businessId) {\r\n      const response = await axiosPrivate.delete(USER_API_URL.deleteUser + deleteData.userId)\r\n      if (response.status == 200) {\r\n        setDisableBtn(false);\r\n        enqueueSnackbar(response.data.message, {\r\n          variant: \"success\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n      } else {\r\n        enqueueSnackbar(\"something went wrong\", {\r\n          variant: \"error\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    } else {\r\n      const response = await axiosPrivate.delete(USER_API_URL.deleteUserBusiness + deleteData.businessId)\r\n      if (response.status == 200) {\r\n        setDisableBtn(false);\r\n        enqueueSnackbar(response.data.message, {\r\n          variant: \"success\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n      } else {\r\n        enqueueSnackbar(\"something went wrong\", {\r\n          variant: \"error\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    }\r\n    refetch();\r\n    handleClose();\r\n  }\r\n\r\n  async function cancelRequest(id) {\r\n    const response = await axiosPrivate.put(USER_API_URL.cancelRequest + id)\r\n    if (response.status == 200) {\r\n      enqueueSnackbar(response.data.message, {\r\n        variant: \"success\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n        autoHideDuration: 2000,\r\n      });\r\n    } else {\r\n      enqueueSnackbar(\"something went wrong\", {\r\n        variant: \"error\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n    refetch();\r\n    handleClose();\r\n  }\r\n\r\n  if (isLoading) return <LoadingScreen />\r\n\r\n\r\n\r\n\r\n  const handleRequestEdit = (data) => {\r\n    if (data.businessId) {\r\n      navigate(PATH_DASHBOARD.general.deleteBusinessReqView, { state: { businessId: data?.businessId } });\r\n    } else {\r\n      navigate(PATH_DASHBOARD.general.ArchiveUserView, { state: { userId: data?.userId } });\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {loding ? <LoadingScreen /> : <>\r\n        <div className=\"dashboard_header mb-4\">\r\n          <Paper className='dashboard_searchbox col-lg-4'>\r\n            <IconButton>\r\n              <SearchIcon />\r\n            </IconButton>\r\n            <InputBase\r\n              fullWidth\r\n              sx={{ flex: 1 }}\r\n              placeholder=\"search user name...\"\r\n              onChange={(e) => handleFilterByName(e)}\r\n            />\r\n          </Paper>\r\n          <Stack direction={\"row\"} className=\"d-flex align-items-center\" spacing={2}>\r\n            <AppTooltip title=\"refresh\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\"><RefreshOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></Button></AppTooltip>\r\n            {/* csv */}\r\n            {permissionsData?.users?.substring(1, 2) == \"1\"\r\n              ?\r\n              <AppTooltip title=\"export-users\" placement=\"bottom\"><Button className=\"dashboard_light_bg_icon_btn\" ><CSVLink {...csvReport}><FileUploadOutlinedIcon style={{ fontSize: 18, color: \"#6200ee\" }} /></CSVLink></Button></AppTooltip> : ''}\r\n          </Stack>\r\n        </div>\r\n        <Dialog\r\n          fullScreen={fullScreen}\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"responsive-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"responsive-dialog-title\" className='m-auto'>\r\n            {\"Are you sure you want to delete the user?\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n          </DialogContent>\r\n          <DialogActions className='m-auto'>\r\n            <Button className=\"theme_button_view\" variant=\"contained\" autoFocus onClick={handleClose}>\r\n              Cancel\r\n            </Button>\r\n\r\n            <Button className=\"theme_button_view\" variant=\"contained\" onClick={() => updateRequest()} autoFocus disabled={disableBtn}>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <Card>\r\n          <TableContainer>\r\n            <Table>\r\n              <UserListHead\r\n                headLabel={TABLE_HEAD}\r\n                rowCount={userDeleteReqList?.metadata.length !== 0 ? userDeleteReqList?.metadata[0].total : 0}\r\n                onRequestSort={handleRequestSort}\r\n              />\r\n              {tableData.length > 0 ?\r\n                <TableBody>\r\n                  {filteredUsers.map((row, i) => {\r\n                    return (\r\n                      <StyledTableRow key={i}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row?.businessId ? row.businessName : row.userName ?? \"-\"}\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row?.businessId ? row.businessEmail : row.userEmail ?? \"-\"}\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row?.mobile ? row.mobile : \"-\"}\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.reason}\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.businessId ? \"business\" : \"user\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"left\"> {moment(row.createdAt).format(\"MMM DD YYYY h:mm A\")}</TableCell>\r\n                        <TableCell>\r\n                          <Stack direction=\"row\" spacing={3}>\r\n                            {permissionsData?.business_request?.substring(3, 4) == \"1\" ?\r\n                              <>\r\n                                <AppTooltip title=\"delete user & business\" placement=\"bottom\"><Button className=\"theme_button\" variant=\"contained\" onClick={(e) => handleClickOpen(row)}>delete</Button></AppTooltip>\r\n                                <AppTooltip title=\"cancel request\" placement=\"bottom\"><Button className=\"invalid_button\" variant=\"contained\" onClick={(e) => cancelRequest(row._id)}>cancel</Button></AppTooltip>\r\n                                <AppTooltip title=\"view user\" placement=\"bottom\"><Button className=\"invalid_button\" variant=\"contained\" onClick={() => handleRequestEdit(row)} >View</Button></AppTooltip>\r\n                              </> : ''}\r\n                          </Stack>\r\n                        </TableCell>\r\n                      </StyledTableRow>\r\n                    )\r\n                  })}\r\n                </TableBody>\r\n                :\r\n                <TableBody>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\" colSpan={6} sx={{ py: 5 }}>\r\n                      <span className=\"app_text_16_semibold\">no data found</span>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableBody>}\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination\r\n            component=\"div\"\r\n            rowsPerPageOptions={[10, 20, 50, 100]}\r\n            count={userDeleteReqList?.metadata.length != 0 ? userDeleteReqList?.metadata[0].total : 0}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={handleChangePage}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n          />\r\n        </Card>\r\n      </>\r\n      }\r\n    </>\r\n  )\r\n}"],"sourceRoot":""}