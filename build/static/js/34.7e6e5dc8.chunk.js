(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[34],{1026:function(e,a,t){"use strict";t.r(a);var i=t(9),n=t(29),o=t(12),l=t.n(o),r=t(21),c=t(5),s=t(1),d=t(19),u=t(298),b=t(902),m=t(738),v=t(896),j=t(964),p=t(59),h=t(25),O=t(46),x=t(23),f=t(33),N=t(53),y=t(357),_=t(32),g=t(0);a.default=function(){var e,a,t,o,w,k,C,M,S,z,B,F,E=Object(s.useState)(),I=Object(c.a)(E,2),P=I[0],H=I[1],V=Object(O.a)(),T=Object(s.useState)(""),W=Object(c.a)(T,2),q=W[0],D=W[1],R=Object(s.useState)(!1),J=Object(c.a)(R,2),L=J[0],U=J[1],A=Object(h.g)(),Q=Object(N.b)().enqueueSnackbar,G=Object(h.f)().state,K=Object(f.useQuery)("businessListData",function(){var e=Object(r.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.signal,e.next=3,V.get(x.b.getBusiness+(null===G||void 0===G?void 0:G.businessId),{signal:t}).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1}),X=K.data;K.refetch;Object(s.useEffect)((function(){X&&H(X)}),[X]),Object(s.useEffect)((function(){var e,a,t,i,n,o,l,r;P&&(ne("name",(null===P||void 0===P?void 0:P.name)?null===P||void 0===P?void 0:P.name:""),ne("user_name",(null===P||void 0===P?void 0:P.userName)?null===P||void 0===P?void 0:P.userName:""),ne("email",(null===P||void 0===P?void 0:P.email)?null===P||void 0===P?void 0:P.email:""),ne("mobile",(null===P||void 0===P?void 0:P.mobile)?null===P||void 0===P?void 0:P.mobile:""),ne("home_address",(null===P||void 0===P||null===(e=P.document)||void 0===e||null===(a=e.address)||void 0===a?void 0:a.name)?null===P||void 0===P||null===(t=P.document)||void 0===t||null===(i=t.address)||void 0===i?void 0:i.name:""),ne("bio",(null===P||void 0===P?void 0:P.bio)?null===P||void 0===P?void 0:P.bio:""),ne("secondaryNumber",(null===P||void 0===P||null===(n=P.optionalMobile)||void 0===n?void 0:n.secondary)?null===P||void 0===P||null===(o=P.optionalMobile)||void 0===o?void 0:o.secondary:""),ne("alternativeNumber",(null===P||void 0===P||null===(l=P.optionalMobile)||void 0===l?void 0:l.alternative)?null===P||void 0===P||null===(r=P.optionalMobile)||void 0===r?void 0:r.alternative:""),U(null===P||void 0===P?void 0:P.chatPermissions))}),[P]);var Y=d.d().shape({name:d.e().min(2,"user name can set of between 2 and 50 characters!").max(50,"user name can set of between 2 and 50 characters!").required("user name is required"),bio:d.e().min(2,"user bio can set of between 2 and 255 characters!").max(255,"user bio can set of between 2 and 255 characters!").required("user bio is required")}),Z=Object(p.e)({initialValues:{name:(null===P||void 0===P?void 0:P.name)?null===P||void 0===P?void 0:P.name:"",user_name:(null===P||void 0===P?void 0:P.userName)?null===P||void 0===P?void 0:P.userName:"",email:(null===P||void 0===P?void 0:P.email)?null===P||void 0===P?void 0:P.email:"",mobile:(null===P||void 0===P?void 0:P.mobile)?null===P||void 0===P?void 0:P.mobile:"",home_address:(null===P||void 0===P||null===(e=P.document)||void 0===e||null===(a=e.address)||void 0===a?void 0:a.name)?null===P||void 0===P||null===(t=P.document)||void 0===t||null===(o=t.address)||void 0===o?void 0:o.name:"",bio:(null===P||void 0===P?void 0:P.bio)?null===P||void 0===P?void 0:P.bio:"",secondaryNumber:(null===P||void 0===P||null===(w=P.optionalMobile)||void 0===w?void 0:w.secondary)?null===P||void 0===P||null===(k=P.optionalMobile)||void 0===k?void 0:k.secondary:"",alternativeNumber:(null===P||void 0===P||null===(C=P.optionalMobile)||void 0===C?void 0:C.alternative)?null===P||void 0===P||null===(M=P.optionalMobile)||void 0===M?void 0:M.alternative:"",userTrace:(null===P||void 0===P?void 0:P.userTrace)?null===P||void 0===P?void 0:P.userTrace:""},validationSchema:Y,onSubmit:function(){var e=Object(r.a)(l.a.mark((function e(a,t){var i,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.resetForm,t.setFieldError,i=t.setSubmitting,n={categoryId:null===P||void 0===P?void 0:P._id,bio:a.bio,name:a.name,secondary:a.secondaryNumber?a.secondaryNumber.includes("+")?a.secondaryNumber:"+"+a.secondaryNumber:"",alternative:a.alternativeNumber?a.alternativeNumber.includes("+")?a.alternativeNumber:"+"+a.alternativeNumber:"",chatPermissions:L},""!=q&&(n.image=q),e.next=5,$(n);case 5:i(!1);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),$=Object(f.useMutation)(function(){var e=Object(r.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.put(x.b.businessUpdate+(null===P||void 0===P?void 0:P._id),JSON.stringify(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{onSuccess:function(e){e.data;Q("Business Update successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),A(_.c.general.users)},onError:function(e){var a,t,i,n,o=e.response.data.errors;(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)&&Q(null===(i=e.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3});Object.keys(o).forEach((function(e){le("bio"===e?"user_bio":"address.name"===e?"address":"secondary"===e?"secondaryNumber":"alternative"===e?"alternativeNumber":"name"===e?"user_name":e,o[e])}))}}).mutateAsync,ee=function(){var e=Object(r.a)(l.a.mark((function e(a){var t,i,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.type.includes("image")){e.next=7;break}return(i=new FormData).append("image",a),e.next=5,V.post(x.i.profileUpload,i);case 5:n=e.sent,D(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.imageName);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ae=function(e){L.includes(e)?U((function(a){return a.filter((function(a){return a!==e}))})):U((function(a){return[].concat(Object(n.a)(a),[e])}))},te=Z.errors,ie=Z.touched,ne=Z.setFieldValue,oe=Z.handleSubmit,le=Z.setFieldError,re=Z.getFieldProps;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(p.d,{value:Z,children:Object(g.jsx)(p.c,{autoComplete:"off",noValidate:!0,onSubmit:oe,children:Object(g.jsxs)("div",{className:"container-fluid",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("div",{className:"user_edit_header",children:Object(g.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"general information"})}),Object(g.jsxs)("div",{className:"d-flex align-items-end mt-4",children:[Object(g.jsx)("div",{className:"img_preview_circle",children:Object(g.jsx)("img",{src:""==q?"https://api.beemxyz.com/uploads/images/"+(null===P||void 0===P?void 0:P.image):"https://api.beemxyz.com/uploads/images/"+q,alt:"profile"})}),Object(g.jsxs)(u.a,{className:"ms-4 app_bg_primary",variant:"contained",component:"label",children:["change pic",Object(g.jsx)("input",{hidden:!0,accept:"image/*",onChange:function(e){var a=e.target.files[0];ee(a)},type:"file"})]})]}),Object(g.jsx)("div",{className:"d-flex mt-4",children:Object(g.jsx)(b.a,Object(i.a)(Object(i.a)({label:"name",varient:"outlined",fullWidth:!0,autoComplete:"off"},re("name")),{},{error:Boolean(ie.name&&te.name),helperText:ie.name&&te.name}))}),Object(g.jsxs)("div",{className:"d-flex row mt-4",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)(p.a,{customeName:"mobile",name:"mobile",label:"mobile number",disabled:!0,component:y.a,data:(null===P||void 0===P?void 0:P.mobile)?null===P||void 0===P?void 0:P.mobile:""})}),Object(g.jsx)("div",{className:"col",children:Object(g.jsx)(b.a,Object(i.a)({label:"email",type:"email",autoComplete:"off",fullWidth:!0,disabled:!0,variant:"outlined"},re("email")))})]})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("div",{className:"user_edit_header",children:Object(g.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"id verification"})}),Object(g.jsx)("div",{className:"d-flex row mt-4",children:Object(g.jsx)("div",{className:"col",children:Object(g.jsx)(b.a,Object(i.a)(Object(i.a)({label:"home address",type:"text",autoComplete:"off",fullWidth:!0,variant:"outlined"},re("home_address")),{},{error:Boolean(ie.home_address&&te.home_address),helperText:ie.home_address&&te.home_address}))})}),Object(g.jsx)("div",{className:"d-flex mt-4",children:Object(g.jsx)(b.a,Object(i.a)(Object(i.a)({label:"bio",varient:"outlined",fullWidth:!0,autoComplete:"off"},re("bio")),{},{error:Boolean(ie.bio&&te.bio),helperText:ie.bio&&te.bio}))})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("div",{className:"user_edit_header",children:Object(g.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"optional information"})}),Object(g.jsxs)("div",{className:"d-flex row mt-4",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)(p.a,{customeName:"secondaryNumber",name:"secondaryNumber",label:"secondary mobile number",errors:te.secondaryNumber,component:y.a,data:(null===P||void 0===P||null===(S=P.optionalMobile)||void 0===S?void 0:S.secondary)?null===P||void 0===P||null===(z=P.optionalMobile)||void 0===z?void 0:z.secondary:""})}),Object(g.jsx)("div",{className:"col",children:Object(g.jsx)(p.a,{customeName:"alternativeNumber",name:"alternativeNumber",label:"alternative mobile number",errors:te.alternativeNumber,component:y.a,data:(null===P||void 0===P||null===(B=P.optionalMobile)||void 0===B?void 0:B.alternative)?null===P||void 0===P||null===(F=P.optionalMobile)||void 0===F?void 0:F.alternative:""})})]})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("div",{className:"user_edit_header",children:Object(g.jsx)("h4",{className:"app_text_14_semibold mb-0",children:"message option"})}),Object(g.jsx)("div",{className:"d-flex row mt-4",children:Object(g.jsxs)(m.a,{sx:{display:"flex",gap:3},children:[Object(g.jsx)(v.a,{label:"delete",onChange:function(){return ae(3)},control:Object(g.jsx)(j.a,{checked:!!L&&(null===L||void 0===L?void 0:L.includes(3))})}),Object(g.jsx)(v.a,{label:"edit/update",onChange:function(){return ae(1)},control:Object(g.jsx)(j.a,{checked:!!L&&(null===L||void 0===L?void 0:L.includes(1))})}),Object(g.jsx)(v.a,{label:"forward",onChange:function(){return ae(2)},control:Object(g.jsx)(j.a,{checked:!!L&&(null===L||void 0===L?void 0:L.includes(2))})})]})})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("div",{className:"col-md-8 m-auto",children:Object(g.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",className:"my-3 text-lowercase text-white app_bg_primary app_text_16_semibold app_btn_lg",children:"update business"})})})]})})})})}},964:function(e,a,t){"use strict";var i=t(3),n=t(6),o=t(2),l=t(1),r=t(4),c=t(216),s=t(215),d=t(361),u=t(51),b=t(0),m=Object(u.a)(Object(b.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),v=Object(u.a)(Object(b.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),j=Object(u.a)(Object(b.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=t(11),h=t(13),O=t(7),x=t(134),f=t(122);function N(e){return Object(f.a)("MuiCheckbox",e)}var y=Object(x.a)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),_=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],g=Object(O.a)(d.a,{shouldForwardProp:function(e){return Object(O.b)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,a){var t=e.ownerState;return[a.root,t.indeterminate&&a.indeterminate,"default"!==t.color&&a["color".concat(Object(p.a)(t.color))]]}})((function(e){var a,t=e.theme,n=e.ownerState;return Object(o.a)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(s.a)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(a={},Object(i.a)(a,"&.".concat(y.checked,", &.").concat(y.indeterminate),{color:(t.vars||t).palette[n.color].main}),Object(i.a)(a,"&.".concat(y.disabled),{color:(t.vars||t).palette.action.disabled}),a))})),w=Object(b.jsx)(v,{}),k=Object(b.jsx)(m,{}),C=Object(b.jsx)(j,{}),M=l.forwardRef((function(e,a){var t,i,s=Object(h.a)({props:e,name:"MuiCheckbox"}),d=s.checkedIcon,u=void 0===d?w:d,m=s.color,v=void 0===m?"primary":m,j=s.icon,O=void 0===j?k:j,x=s.indeterminate,f=void 0!==x&&x,y=s.indeterminateIcon,M=void 0===y?C:y,S=s.inputProps,z=s.size,B=void 0===z?"medium":z,F=s.className,E=Object(n.a)(s,_),I=f?M:O,P=f?M:u,H=Object(o.a)({},s,{color:v,indeterminate:f,size:B}),V=function(e){var a=e.classes,t=e.indeterminate,i=e.color,n={root:["root",t&&"indeterminate","color".concat(Object(p.a)(i))]},l=Object(c.a)(n,N,a);return Object(o.a)({},a,l)}(H);return Object(b.jsx)(g,Object(o.a)({type:"checkbox",inputProps:Object(o.a)({"data-indeterminate":f},S),icon:l.cloneElement(I,{fontSize:null!=(t=I.props.fontSize)?t:B}),checkedIcon:l.cloneElement(P,{fontSize:null!=(i=P.props.fontSize)?i:B}),ownerState:H,ref:a,className:Object(r.a)(V.root,F)},E,{classes:V}))}));a.a=M}}]);
//# sourceMappingURL=34.7e6e5dc8.chunk.js.map