(this["webpackJsonpbeemz-web"]=this["webpackJsonpbeemz-web"]||[]).push([[56],{1030:function(e,t,n){"use strict";n.r(t);var a=n(9),i=n(12),s=n.n(i),l=n(21),c=n(5),r=n(1),o=n(741),d=n(862),u=n(863),b=n(864),j=n(865),v=n(742),h=n(869),O=n(25),p=n(33),m=n(46),x=n(23),g=n(52),f=n(89),_=n(35),y=n.n(_),k=n(7),w=n(298),D=n(31),Y=n(852),M=n(53),N=n(242),C=n(34),S=n(359),R=n.n(S),z=n(90),I=n(91),L=n.n(I),F=n(32),E=n(891),A=n(356),T=n(366),G=n.n(T),H=n(0);t.default=function(){var e,t=Object(m.a)(),n=Object(r.useState)(!0),i=Object(c.a)(n,2),_=i[0],S=i[1],I=Object(r.useState)(!1),T=Object(c.a)(I,2),J=T[0],U=T[1],V=Object(M.b)().enqueueSnackbar,q=Object(r.useState)(!1),Q=Object(c.a)(q,2),W=Q[0],B=Q[1],K=Object(C.c)((function(e){return e.permissions})),P=Object(O.f)().state,X=Object(r.useState)([]),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(O.g)(),ne=Object(k.a)(o.a)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#ffffff"},"&:nth-of-type(even)":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), #F4F5F7"},"& td, & th":{border:0}}})),ae=Object(p.useQuery)("userEventList",function(){var e=Object(l.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.signal,e.next=3,t.get(x.n.userEventList+"?userId="+(null===P||void 0===P?void 0:P.User_id),{signal:a}).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1}),ie=ae.data,se=ae.refetch;Object(r.useEffect)((function(){var e=[];null===ie||void 0===ie||ie.map((function(t){var n={title:(null===t||void 0===t?void 0:t.title)?null===t||void 0===t?void 0:t.title:"",description:(null===t||void 0===t?void 0:t.description)?null===t||void 0===t?void 0:t.description:"","event date":(null===t||void 0===t?void 0:t.eventDate)?y()(null===t||void 0===t?void 0:t.eventDate).format("MMM DD YYYY h:mm A"):"","event time":(null===t||void 0===t?void 0:t.time)?null===t||void 0===t?void 0:t.time:"",duration:(null===t||void 0===t?void 0:t.duration)?(null===t||void 0===t?void 0:t.duration)+" days":"",type:(null===t||void 0===t?void 0:t.businessId)?"business":"user",status:1==(null===t||void 0===t?void 0:t.status)?"enable":"disable"};e.push(n)})),ee(e)}),[ie]);var le={data:$,headers:[{label:"title",key:"title"},{label:"description",key:"description"},{label:"event date",key:"event date"},{label:"event time",key:"event time"},{label:"duration",key:"duration"},{label:"type",key:"type"},{label:"status",key:"status"}],filename:"beemz-events.csv"};function ce(){return(ce=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,t.put(x.n.eventInactive+n);case 3:200==e.sent.status?(se(),V("status change successfully ",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),setTimeout((function(){S(!1)}),500)):(V("something went wrong",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3}),S(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}setTimeout((function(){S(!1)}),1800);var re=function(e,t){"view"===t?te(F.c.general.eventDetails,{state:{eventData:e}}):"edit"===t?te(F.c.general.userEventEdit,{state:{eventData:e}}):te(F.c.general.eventInvitedUserList,{state:{eventId:e._id}})};return Object(H.jsx)(H.Fragment,{children:_?Object(H.jsx)(g.a,{}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"dashboard_header mb-4",children:[Object(H.jsx)("h4",{className:"app_text_20_semibold mb-0 d-flex align-items-center",children:"user events"}),Object(H.jsx)(Y.a,{direction:"row",className:"d-flex align-items-center",spacing:2,children:"1"==(null===K||void 0===K||null===(e=K.event)||void 0===e?void 0:e.substring(1,2))?Object(H.jsx)(D.a,{title:"export-event",placement:"bottom",children:Object(H.jsx)(w.a,{className:"dashboard_light_bg_icon_btn",children:Object(H.jsx)(z.CSVLink,Object(a.a)(Object(a.a)({},le),{},{children:Object(H.jsx)(L.a,{style:{fontSize:18,color:"#6200ee"}})}))})}):""})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(u.a,{children:Object(H.jsxs)(b.a,{children:[Object(H.jsx)(f.a,{headLabel:[{id:"title",label:"title",alignRight:!1},{id:"eventDate",label:"event date",alignRight:!1},{id:"time",label:"event time",alignRight:!1},{id:"duration",label:"duration",alignRight:!1},{id:"type",label:"type",alignRight:!1},{id:"noOfGuest",label:"total no. of guest",alignRight:!1},{id:"event status",label:"event status",alignRight:!1},{id:"status",label:"status",alignRight:!1},{id:"action",label:"action",alignRight:!1}]}),(null===ie||void 0===ie?void 0:ie.length)>0?Object(H.jsx)(j.a,{children:0!=ie.length&&(null===ie||void 0===ie?void 0:ie.map((function(e){var t,n=y()().format("MMM DD YYYY hh:mm"),i=y()(null===e||void 0===e?void 0:e.eventDateTime).format("MMM DD YYYY hh:mm");return Object(H.jsxs)(ne,{children:[Object(H.jsxs)(v.a,{component:"th",scope:"row",children:[" ",e.title," "]}),Object(H.jsxs)(v.a,{align:"left",children:[" ",y()(null===e||void 0===e?void 0:e.eventDate).format("MMM DD YYYY")," "]}),Object(H.jsxs)(v.a,{align:"left",children:[" ",y()(null===e||void 0===e?void 0:e.time,"hh:mm A").format("hh:mm A")," "]}),Object(H.jsxs)(v.a,{align:"left",children:[" ",(null===e||void 0===e?void 0:e.duration)?(null===e||void 0===e?void 0:e.duration)+" days":""," "]}),Object(H.jsxs)(v.a,{align:"left",children:[" ",(null===e||void 0===e?void 0:e.businessId)?"business":"user"," "]}),Object(H.jsxs)(v.a,{align:"left",children:[" ",null!==(t=null===e||void 0===e?void 0:e.noOfGuest)&&void 0!==t?t:"-"," "]}),Object(H.jsx)(v.a,{align:"left",children:1===(null===e||void 0===e?void 0:e.isCancle)?Object(H.jsx)(E.a,{label:"canceled",className:"app_status_chip invalid"}):n<i?Object(H.jsx)(E.a,{label:"upcoming",className:"app_status_chip accepted"}):Object(H.jsx)(E.a,{label:"posted",className:"app_status_chip posted"})}),Object(H.jsx)(v.a,{align:"left",children:1===(null===e||void 0===e?void 0:e.isCancle)?Object(H.jsx)(h.a,{checked:1===e.status}):Object(H.jsx)(D.a,{title:"change status",placement:"bottom",children:Object(H.jsx)(h.a,{checked:1===e.status,onChange:function(){return function(e){return ce.apply(this,arguments)}(e._id)},defaultChecked:!0})})}),Object(H.jsx)(v.a,{children:Object(H.jsxs)(Y.a,{direction:"row",spacing:3,children:[Object(H.jsx)(D.a,{title:"event edit",placement:"bottom",children:Object(H.jsx)(w.a,{sx:{"&:hover":{bgcolor:"transparent"}},onClick:function(){return re(e,"edit")},variant:"text",className:"user_list_row_btn",children:Object(H.jsx)(A.a,{})})}),Object(H.jsx)(D.a,{title:"event view",placement:"bottom",children:Object(H.jsx)(w.a,{sx:{"&:hover":{bgcolor:"transparent"}},onClick:function(){return re(e,"view")},variant:"text",className:"user_list_row_btn",children:Object(H.jsx)(R.a,{})})}),Object(H.jsx)(D.a,{title:"invited users",placement:"bottom",children:Object(H.jsx)(w.a,{sx:{"&:hover":{bgcolor:"transparent"}},onClick:function(){return re(e,"invite")},variant:"text",className:"user_list_row_btn",children:Object(H.jsx)(G.a,{})})}),Object(H.jsx)(D.a,{title:"export-events",placement:"bottom",children:Object(H.jsx)(w.a,{className:"dashboard_light_bg_icon_btn",children:Object(H.jsx)(z.CSVLink,Object(a.a)(Object(a.a)({},le),{},{children:Object(H.jsx)(L.a,{style:{fontSize:18,color:"#6200ee"}})}))})})]})})]},e._id)})))}):Object(H.jsx)(j.a,{children:Object(H.jsx)(o.a,{children:Object(H.jsx)(v.a,{align:"center",colSpan:7,sx:{py:5},children:Object(H.jsx)("span",{className:"app_text_16_semibold",children:"no data found"})})})})]})}),Object(H.jsx)(N.a,{newLinkId:J,open:W,onClose:function(e){B(!1),U(!1)}})]})]})})}}}]);
//# sourceMappingURL=56.58a772fb.chunk.js.map